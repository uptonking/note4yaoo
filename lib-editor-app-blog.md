---
title: lib-editor-app-blog
tags: [blog, editor]
created: 2021-05-13T04:44:23.155Z
modified: 2022-08-21T10:11:37.453Z
---

# lib-editor-app-blog

# guide
- tldr: Unless browsers will open for the Web multiple crucial features (such as IME, keyboard, selection, touch, on-screen keyboard, spellchecker, etc.), contentEditable is the only sane way to handle text editing.
- contenteditable gives you one very important feature that you can't fake yourself: access to the browser's spell check and corrections
- Yep, we do use contentEditable as an input source and also as the view to which we render (you wouldn't be able to reliably handle the keyboard otherwise).
# blogs

## [Bike: Innovative Rich Text Editing](https://www.hogbaysoftware.com/posts/bike-rich-text/)

- Bike Outliner now supports rich text!
- link button
  - ç‚¹å‡»textå¯ç¼–è¾‘linkæ–‡æœ¬
  - ç‚¹å‡»æœ«å°¾iconå¯ä»¥è·³è½¬
- typing affinity
  - å½“å…‰æ ‡åœ¨markè¾¹ç¼˜æ—¶ï¼Œä¼šæ˜¾ç¤ºçŸ­ä¸‹åˆ’çº¿æŒ‡ç¤ºå½“å‰ä½ç½®ä¼šä¸å‰é¢è¿˜æ˜¯åé¢æ ·å¼ç›¸åŒ
- floating format toolbar
  - æ”¯æŒå¿«æ·é”®å’Œå·¦å³ç®­å¤´
- visible typing attributes
  - åœ¨å…‰æ ‡ä½ç½®ä¼šæ˜¾ç¤ºå½“å‰formatçš„åç§°å’Œæ ·å¼

## [å¦‚å±¥è–„å†°çš„å¤åˆ¶ç²˜è´´-clipboardè¯¦è§£ - æ˜é‡‘](https://juejin.cn/post/6903698870694313991)

- æœ¬æ–‡å°†ä»æµè§ˆå™¨è‡ªèº«çš„å¤åˆ¶ç²˜è´´åŠŸèƒ½å‡ºå‘ï¼Œå¸¦é¢†å¤§å®¶äº†è§£å¤åˆ¶ç²˜è´´èƒŒåçš„åŠŸèƒ½å®ç°ï¼Œå¯¹æ¯”å¤šä¸ªå¯Œæ–‡æœ¬æ–‡æ¡£å®ç°ï¼Œåœ¨æµè§ˆå™¨çš„å„ç§é™åˆ¶ä¸‹ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ªåŸºäºJSON-MODELæ•°æ®å¹¶ä¸”é€‚ç”¨äºç±»å¯Œæ–‡æœ¬çš„å‰ªåˆ‡æ¿ã€‚

- å½“æˆ‘ä»¬åœ¨è¡¨å•å…ƒç´ ï¼Œä¾‹å¦‚inputï¼Œtextareaä¸­å®ç°ä¸€æ¬¡å®Œæ•´çš„å¤åˆ¶ç²˜è´´ï¼Œè°ƒç”¨çš„å°±æ˜¯æµè§ˆå™¨çš„é»˜è®¤èƒ½åŠ›ã€‚

- MIMEç±»å‹/åª’ä½“ç±»å‹ï¼ˆé€šå¸¸ç§°ä¸º Multipurpose Internet Mail Extensionsï¼‰æ˜¯ä¸€ç§æ ‡å‡†ï¼Œç”¨æ¥è¡¨ç¤ºæ–‡æ¡£ã€æ–‡ä»¶æˆ–å­—èŠ‚æµçš„æ€§è´¨å’Œæ ¼å¼ï¼›
  - MIMEçš„ç»“æ„å®é™…ä¸Šä¹Ÿéå¸¸ç®€å•ï¼šç”±ç±»å‹å’Œå­ç±»å‹ç»„æˆï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­é—´ç”¨'/'åˆ†å‰²ç»„æˆtype/subtypeã€‚ä¸å…è®¸ç©ºæ ¼å­˜åœ¨ã€‚
  - å¸¸è§çš„MIMEç±»å‹æœ‰ï¼štext/plainï¼Œtext/htmlï¼Œimage/pngï¼Œapplication/jsonç­‰ï¼›
- ä¹Ÿå°±æ˜¯è¯´æµè§ˆå™¨æƒ³çŸ¥é“ä½ çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œéœ€è¦åšä»€ä¹ˆæ ·çš„è§£ææˆ–è€…ä¸‹è½½å¤„ç†ï¼ˆä¾‹å¦‚è§£æåˆ°åª’ä½“æˆ–è€…æ–‡æ¡£æ–‡ä»¶ï¼Œä¸€èˆ¬ä¼šå½“æˆèµ„æºä¸‹è½½ï¼‰ï¼Œéœ€è¦é€šè¿‡MIMEè·çŸ¥ï¼›
  - åœ¨å¤åˆ¶ç²˜è´´è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šï¼Œä¹Ÿæ˜¯éœ€è¦é€šè¿‡MIMEå»è¿›è¡Œå¯¹åº”çš„è§£æå¤„ç†ã€‚

- DataTransferï¼Œé™¤äº†drag eventsè¿˜å¯ä»¥åœ¨pasteï¼Œcopy, cutç­‰äº‹ä»¶ä¸Šè·å–ã€‚
  - DataTransferæœ‰å¤šä¸ªå±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨dragä¸‹äº§ç”Ÿæˆ–è€…æ‰èƒ½ä½¿ç”¨çš„ã€‚ä¾‹å¦‚filesåªé€‚ç”¨äºdragäº‹ä»¶ï¼Œå¦‚æœæ‹–åŠ¨æ“ä½œä¸æ¶‰åŠæ‹–åŠ¨æ–‡ä»¶ï¼Œåˆ™å±æ€§ä¸ºç©ºæ•°ç»„

- clipboardEventæ˜¯æµè§ˆå™¨æ”¯æŒçš„é€šç”¨å‰ªåˆ‡æ¿äº‹ä»¶ã€‚

- åœ¨æµè§ˆå™¨ä¸‹ï¼Œä¸€èˆ¬å¤åˆ¶ç²˜è´´ä¼šä½¿ç”¨æµè§ˆå™¨é€šç”¨çš„æ ‡å‡†MIMEæ ¼å¼
  - åœ¨inputå’Œtextareaå¤åˆ¶ç²˜è´´ä¸­éƒ½åªæ¥æ”¶text/plainçš„MIMEç±»å‹ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯æ‰€æœ‰è½¯ä»¶ï¼ˆè¿˜æ²¡é‡è§è¿‡ä¸æ”¯æŒè¿™ç§æ ¼å¼çš„ï¼‰éƒ½ä¼šæ”¯æŒçš„é»˜è®¤æ–‡æœ¬æ ¼å¼ã€‚

- åœ¨å¯Œæ–‡æœ¬ä¸­ï¼Œé™¤äº†çº¯æ–‡æœ¬ä¹Ÿå°±æ˜¯text/plainè¿™ç§ç±»å‹ä¹‹å¤–ï¼Œä¸€èˆ¬è¿˜éœ€è¦æ”¯æŒå¦å¤–ä¸¤ç§MIMEç±»å‹ï¼Œåˆ†åˆ«æ˜¯text/htmlå’Œimage/pngï¼ˆè¿™é‡Œå•çº¯æŒ‡å¤åˆ¶ç²˜è´´ï¼‰
- text/htmlï¼š
  - ä¾‹å¦‚å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šä»wordä¹‹ç±»çš„æ–‡æ¡£å¤åˆ¶ç²˜è´´ä¸€æ®µæ–‡æœ¬ï¼Œè¦æ±‚æ ·å¼å’Œæ ¼å¼ä¿æŒä¸€è‡´æ€§ï¼Œè¿™åº”è¯¥æ˜¯å¯Œæ–‡æœ¬å¾ˆå¸¸è§çš„åŠŸèƒ½ï¼›
  - è¿™æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥è·å–text/plainçš„è¯ï¼Œåªèƒ½è·å–åˆ°å¯¹åº”çš„çº¯æ–‡å­—ç‰ˆæœ¬ã€‚è¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬å»æ‹¿text/htmlç±»å‹çš„æ–‡æœ¬ã€‚
  - å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€èˆ¬çš„æ–‡å­—ç¼–è¾‘å™¨ï¼ˆwordï¼Œpptï¼Œé‡‘å±±æ–‡æ¡£......ï¼‰ï¼Œè·å–åˆ°çš„å¹¶ä¸æ˜¯æ ‡å‡†çš„htmlæ ¼å¼ï¼Œæˆ–è€…è¯´ï¼Œå¸¦æœ‰å¤§é‡çš„å¤šä½™æ•°æ®ï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸»åŠ¨å»è¿›è¡Œä¸€æ¬¡æ•°æ®æ¸…æ´—ï¼Œåªä¿ç•™æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚
  - ä¸€èˆ¬å¯ä»¥åœ¨è·å–æ•°æ®åï¼Œä½¿ç”¨æ­£åˆ™å»æ¸…é™¤å¤šä½™çš„æ•°æ®ï¼Œåœ¨ueditorã€wangeditorç­‰å¸¸è§çš„å¯Œæ–‡æœ¬ä¸­å¯ä»¥çœ‹åˆ°å¯¹åº”çš„æ•°æ®å¤„ç†ã€‚
- image/pngï¼š
  - å¤åˆ¶å›¾ç‰‡ï¼Œä¸€èˆ¬æ˜¯ä»å¤–éƒ¨è¿›è¡Œå¤åˆ¶ç²˜è´´ï¼›

- éœ€æ±‚
  - é¦–å…ˆæˆ‘éœ€è¦åœ¨ä¸€ä¸ªç±»ä¼¼PPTæ–‡æ¡£ä¸‹å®ç°ä¸€ä¸ªå¤åˆ¶ç²˜è´´çš„åŠŸèƒ½åŒ…æ‹¬ï¼Œå¯å¤åˆ¶æ–‡æœ¬å’Œå›¾ç‰‡å¹¶ç²˜è´´åˆ°æˆ‘ä»¬çš„é¡µé¢ä¸Šï¼Œ
  - å…¶æ¬¡éœ€è¦æ”¯æŒå†…éƒ¨å®šä¹‰å¥½çš„å…¶ä»–å…ƒç´ ï¼Œ
  - æœ€åéœ€è¦æ”¯æŒè·¨æ ‡ç­¾é¡µç”šè‡³æ˜¯è·¨æµè§ˆå™¨åœ¨æˆ‘ä»¬çš„é¡µé¢ä¸Šä¿æŒä¸€è‡´æ€§çš„å¤åˆ¶ç²˜è´´äº¤äº’ï¼›
- ç”±äºJSONæ•°æ®ä¸htmlæ•°æ®ä¹‹é—´å¹¶ä¸ç›¸é€šï¼Œä¾‹å¦‚åœ¨æ™®é€šçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼Œç›´æ¥å¤åˆ¶ï¼ŒåŸºæœ¬éƒ½æ˜¯ç›´æ¥æ‹¿åˆ°çš„htmlæ•°æ®ï¼›è€Œå½“å‰çš„åœºæ™¯ä¸‹ï¼Œå› ä¸ºä½¿ç”¨äº†MVVMæ¡†æ¶çš„åŸå› ï¼Œæˆ‘ä»¬æ˜¯å°†æ‰€æœ‰çš„domè½¬åŒ–æˆå•ä¸ªçš„modelæ•°æ®ï¼Œå› æ­¤ä½ å¤åˆ¶å‡ºæ¥çš„æ•°æ®éœ€è¦åšå•ç‹¬çš„å¤„ç†ï¼Œå¹¶ä¸èƒ½ç›´æ¥ç²˜è´´åˆ°ä»»ä½•å¯Œæ–‡æœ¬ä¸Šã€‚

- æµè§ˆå™¨å¯¹äºå‰ªåˆ‡æ¿æ˜¯æœ‰ä¸¥æ ¼çš„å®‰å…¨é™åˆ¶çš„ï¼šä¸å…è®¸ç›´æ¥è¯»å–å‰ªåˆ‡æ¿å†…å®¹ï¼Œé™¤éä½¿ç”¨ææ¡ˆä¸­çš„navigator.clipboard.readText / navigator.clipboard.readè¿›è¡Œæƒé™çš„è¯¢é—®ï¼Œç”¨æˆ·ä¸»åŠ¨é€šè¿‡åï¼Œå¯ä»¥ç›´æ¥è¯»å–
- å¦‚æœæƒ³è¦å®šåˆ¶åŒ–èœå•ï¼Œå½“ç„¶å¯ä»¥ç›‘å¬contextMenuäº‹ä»¶ï¼Œç„¶åä¸»åŠ¨é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œä¾‹å¦‚è…¾è®¯æ–‡æ¡£æˆ–è€…Google Slidesé‚£æ ·ã€‚ä½†æ˜¯æœ‰äº›æµè§ˆå™¨çš„è¡Œä¸ºå°±ä¼šè¢«éšè—ç”šè‡³æ— æ³•ä¸»åŠ¨è°ƒç”¨ï¼šä¾‹å¦‚å¤åˆ¶ç²˜è´´ã€‚

- åŸºäºä»¥ä¸Šä¸¤ç‚¹ï¼Œæ˜¯éœ€è¦æœ‰è‡ªå·±çš„ä¸€å¥—å†…å­˜æ•°æ®ï¼Œåœ¨å‰ªåˆ‡æ¿å’Œå³é”®èœå•æä¾›æ•°æ®ï¼Œç„¶ååœ¨å¿…è¦çš„æ—¶å€™ä¸»åŠ¨æ›´æ–°clipboardï¼Œè®©ç³»ç»Ÿçš„ç²˜è´´å†…å­˜æ•°æ®å’Œå†…éƒ¨çš„å†…å­˜æ•°æ®è¾¾æˆç»Ÿä¸€ã€‚
  - è¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§ï¼Œå°±æ˜¯å¯ä»¥ä½¿ç”¨document.execCommand('copy/cut')å»ä¸»åŠ¨æ›´æ–°clipboardé‡Œçš„æ•°æ®ã€‚
  - å½“ä½ åœ¨å³é”®ç‚¹å‡»å¤åˆ¶çš„æ—¶å€™ï¼Œå€˜è‹¥éœ€è¦ä¸»åŠ¨æ›´æ–°æ•°æ®åˆ°å‰ªåˆ‡æ¿ä¸Šï¼Œå¯ä»¥ä¸»åŠ¨è°ƒç”¨ï¼Œè·å–cut/copyäº‹ä»¶æŠ›å‡ºçš„clipboardDataï¼Œç„¶åä½¿ç”¨è¯¥å¯¹è±¡ä¸‹çš„setDataï¼Œå¯¹å†…å¤–æ•°æ®ç»Ÿä¸€ï¼Œåœ¨è·¨æ ‡ç­¾é¡µä¸Šä¿æŒæ•°æ®çš„æµé€šå¾ˆæœ‰ä½œç”¨ã€‚

- ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è‡ªå·±è®¾ç½®MIMEå‘¢ï¼Ÿ
  - é¦–å…ˆé€šç”¨çš„MIMEé™¤äº†text/plainä¹‹å¤–ï¼Œå…¶ä½™çš„ç±»å‹éƒ½ä¼šä¸»åŠ¨æ·»åŠ è¯¥ç±»å‹ä¸‹æ‰€éœ€çš„æ•°æ®ï¼Œä¾‹å¦‚text/htmlçš„è¯ï¼Œä¼šåœ¨é¦–å°¾æ·»åŠ å¯¹åº”çš„xmlæ ¼å¼æ•°æ®ï¼Œè€Œå…¶ä»–çš„åœ¨å‰é¢ä¹Ÿè¯´è¿‡ï¼Œä¼šç»è¿‡ä¸€æ¬¡MIMEè§£æï¼Œå¯¹äºæ ‡å‡†ä½†ç‰¹æ®Šçš„MIMEæ ¼å¼å¯èƒ½ä¼šæœ‰ä¸€äº›ç‰¹æ®Šæ·»åŠ æ•°æ®æˆ–è€…è§£ææ“ä½œã€‚
  - å…¶æ¬¡ï¼Œè·¨æµè§ˆå™¨ç›®å‰ä¸ºæ­¢æˆ‘åªçœ‹åˆ°text/plainå’Œtext/htmlæ˜¯å¯ä»¥ä¼ é€’æ•°æ®çš„ï¼Œå…¶ä½™çš„ä¸€å¾‹è¢«è¿‡æ»¤...... ä½†æ˜¯å¦‚æœç›´æ¥è®¾ç½®text/plainæ˜¯ä¼šé€ æˆï¼Œæ‰€æœ‰çš„å¤åˆ¶å†…éƒ¨æ•°æ®éƒ½ä¼šæš´éœ²åœ¨å¤–é¢çš„ç²˜è´´äº‹ä»¶ä¸Šï¼Œå¦‚æœæ˜¯æ™®é€šçš„æ–‡æœ¬æ•°æ®å€’è¿˜å¥½ï¼Œå¦‚æœæ˜¯å†…éƒ¨çš„ä¿å­˜çš„æ ¼å¼åŒ–æ•°æ®ï¼Œå°±ä¼šè®©ç”¨æˆ·æ„Ÿè§‰å¾ˆå¥‡æ€ªã€‚

- å¦‚æœä¸éœ€è¦å¤„ç†è·¨æµè§ˆå™¨ï¼Œé‚£ä¹ˆå¹¶ä¸éœ€è¦é‚£ä¹ˆéº»çƒ¦ï¼Œåªéœ€è¦ä¿æŒä¸€ä¸ªè‡ªå®šä¹‰çš„MIMEç±»å‹å³å¯ã€‚

- ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è·å–å‰ªåˆ‡æ¿å†…å®¹åˆ¤æ–­ï¼Œæ˜¯ä¼šå…ˆä»å†…éƒ¨æ•°æ®å¼€å§‹åˆ¤æ–­çš„ï¼Œä¹Ÿå°±æ˜¯è‡ªå®šä¹‰çš„MIMEç±»å‹ï¼Œç„¶åæ˜¯å›¾ç‰‡ç±»å‹ï¼Œæœ€åæ‰æ˜¯çº¯æ–‡æœ¬ç±»å‹ï¼›

- åœ¨å¤šä¸ªå¹³å°ä¸‹ï¼Œæ”¯æŒçš„ç¨‹åº¦ä¸åŒï¼Œç”šè‡³å®ç°èµ·æ¥ï¼Œè·å–åˆ°çš„æ•°æ®ä¹Ÿå®Œå…¨ä¸åŒã€‚
  - Google Slides ã€è…¾è®¯æ–‡æ¡£ç­‰webåº”ç”¨ä¸æ”¯æŒå¤åˆ¶å›¾ç‰‡ï¼Œéœ€è¦å•ç‹¬è§£ætext/htmlæ•°æ®é‡Œçš„å›¾ç‰‡ï¼Œä¹Ÿå°±æ˜¯éœ€è¦åšå­—ç¬¦ä¸²è§£æï¼Œå®é™…ä¸Šæ˜¯å¯ä»¥åšåˆ°ï¼›
  - é‡‘å±±æ–‡æ¡£ã€officeç­‰webåº”ç”¨ä¸æ”¯æŒæ–‡æœ¬æ¡†å’Œæ–‡æœ¬çš„åŸå› æ˜¯ï¼Œè¿™äº›åº”ç”¨ä½¿ç”¨äº†å†…éƒ¨åè®®ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸é’ˆå¯¹ç‰¹æ®Šåè®®ï¼ˆMIMEï¼‰åšå¤„ç†ï¼›
  - windowsç³»ç»Ÿä¸æ”¯æŒå›¾ç‰‡å’ŒéŸ³è§†é¢‘å¤åˆ¶ç²˜è´´ï¼Œç»æµ‹è¯•ï¼Œåœ¨è¯¥ç³»ç»Ÿä¸‹åªèƒ½æ‹¿åˆ°çº¯æ–‡æœ¬ï¼›

- åŸºäºå†…éƒ¨æ•°æ®çš„ä¿¡ä»»ï¼Œä¸€å¼€å§‹ä½ æˆ–è®¸åªæƒ³ç€å¤åˆ¶æ•°æ®ï¼Œåºåˆ—åŒ–ä¹‹åå¡åˆ°æˆ‘ä»¬å®šåˆ¶å¥½çš„MIMEç±»å‹é‡Œé¢ï¼Œä¸‹ä¸€æ¬¡å†æ‹¿å‡ºæ¥ååºåˆ—åŒ–å°±å¥½äº†ã€‚
  - ç„¶è€Œï¼Œä¸€å¼€å§‹æˆ‘ä»¬çš„äº§å“å¯¹å¤šåª’ä½“çš„æ–‡ä»¶ï¼ˆéŸ³è§†é¢‘ã€å›¾ç‰‡ï¼‰åšäº†ç‰¹æ®Šå¤„ç†ï¼šåœ¨ä¸€ä¸Šä¼ åˆ°æˆ‘ä»¬é¡µé¢çš„æ—¶å€™å•çº¯è½¬æˆblobï¼Œä¿å­˜åœ¨å†…å­˜é‡Œï¼Œç­‰ä¸‹ä¸€æ¬¡åŒæ­¥çš„æ—¶å€™å†å»åšä¸€æ¬¡ä¸Šä¼ åˆ°äº‘ç«¯çš„å¤„ç†ã€‚è¿™ç§åšæ³•ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æé«˜ç”¨æˆ·çš„ä½“éªŒï¼Œæ¯•ç«Ÿä¸éœ€è¦ä¸€ä¸Šä¼ å°±å¿…é¡»è¦ç»è¿‡ä¸€æ¬¡ä¸Šä¼ äº‘ç«¯çš„æ“ä½œã€‚
  - åœ¨è¿™é‡Œå°±æœ‰ä¸€ä¸ªå¼Šç«¯äº†ï¼šè·¨æ ‡ç­¾é¡µçš„æ—¶å€™ï¼Œå¦‚æœä¸Šä¸€ä¸ªçš„æ ‡ç­¾é¡µå…³é—­ï¼Œé‚£ä¹ˆåŠ¿å¿…blobé“¾æ¥ä¼šå¤±æ•ˆï¼Œå› ä¸ºblobçš„å†…å­˜æˆ–è€…è¯´å¼•ç”¨åœ°å€æ˜¯ä¿å­˜åœ¨ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µçš„ï¼Œä½†æ˜¯å¦‚æœè¿™æ—¶å€™å»æ”¹åŠ¨çš„è¯ï¼Œå½±å“èŒƒå›´ä¼šå˜å¾—æ¯”è¾ƒå¹¿ã€‚
  - è¿™æ—¶å€™ï¼Œåªèƒ½é‡‡å–é™çº§æ–¹æ¡ˆï¼šå·²ç»ä¸Šä¼ åˆ°äº‘ç«¯ä¸Šçš„ï¼Œç›´æ¥è·å–é“¾æ¥åœ°å€ï¼›è¿˜æœªä¸Šä¼ çš„ï¼Œæ˜¯blobé“¾æ¥çš„åªèƒ½å…ˆå¤åˆ¶blobåœ°å€ï¼Œåœ¨æ–°çš„æ ‡ç­¾é¡µï¼Œå…ˆé€šè¿‡fetchä¸‹è½½åˆ°å½“å‰é¡µé¢ï¼Œç„¶åå°±å¯ä»¥è·Ÿæ™®é€šæ–‡ä»¶ä¸€æ ·å¤„ç†äº†ã€‚
- Google slideså°±æ˜¯blobåœ¨è½¬urlçš„åšæ³•ï¼Œè€Œè…¾è®¯æ–‡æ¡£å°±æ˜¯ç›´æ¥ä¸Šä¼ ï¼Œè¯­é›€åˆ™æ˜¯å…ˆç”¨ä¸€å¼ base64å±•ç¤ºåœ¨ä¸Šä¼ ã€‚

- å½“ç„¶æˆ–è®¸æœ‰äººä¼šè¯´ï¼Œå¯ä»¥å…ˆå°†æ–‡ä»¶è½¬æˆbase64çš„æ ¼å¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¤åˆ¶ä¸€èˆ¬å¯èƒ½ä¼šæœ‰å¤šä¸ªåª’ä½“æ–‡ä»¶ï¼Œè¿™æ—¶å€™base64å°±ä¼šè€—è´¹æ—¶é—´ç”Ÿæˆï¼Œè€Œä¸”æ•°æ®é‡å¯èƒ½ä¼šè¶…è¿‡å‰ªåˆ‡æ¿å†…å­˜å¤§å°ã€‚
  - æ¯•ç«Ÿæ‰¾ä¸åˆ°å¯ä»¥åœ¨æµè§ˆå™¨é—´ä¼ é€’äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–¹æ³•ï¼Œåªèƒ½å…ˆé‡‡ç”¨è¿™ç§æ¶å¿ƒçš„æ–¹æ³•ã€‚

- ç›´æ¥ä½¿ç”¨ä¸€ä¸ªDataTransferå¯¹è±¡ï¼Œç„¶åå¾€é‡Œé¢å¡æ•°æ®ï¼Œç»æµ‹è¯•ä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚
- å½“ç„¶ï¼Œå€˜è‹¥ä½ äº†è§£clipboardItemsï¼Œä½ å¯èƒ½ä¼šè§‰å¾—clipboardItemså¯ä»¥å¾€å‰ªåˆ‡æ¿é‡Œå¡æ•°æ®ã€‚
  - æ˜¯çš„ï¼Œå®Œå…¨å¯ä»¥ï¼Œä¸è¿‡clipboardItemsçœ‹èµ·æ¥åƒä¸ªæ•°ç»„ï¼Œç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸ªæ•°ç»„ï¼Œå°±æ˜¯æ•°æ®æ˜¯åªæ”¯æŒé•¿åº¦ä¸º1çš„æ•°ç»„.

- åœ¨æµè§ˆå™¨é‡Œï¼Œæˆ‘ä»¬é€šè¿‡image/pngæ‹¿åˆ°çš„æ°¸è¿œæ˜¯å•ä¸€çš„å›¾ç‰‡æ ¼å¼ï¼Œå› ä¸ºæµè§ˆå™¨ä¸ºäº†æ”¯æŒã€å…¼å®¹å›¾ç‰‡æ ¼å¼ï¼Œéƒ½ä¼šå°†å›¾ç‰‡è½¬æˆbitmapç»™ä½ ï¼Œè¿™æ ·ä¸€æ¥ä½ åœ¨image/pngé‡Œæ‹¿åˆ°çš„åªæ˜¯bitmapçš„blobæ ¼å¼ï¼Œè¿™ä¼šäº§ç”Ÿä¸¤ä¸ªé—®é¢˜ï¼š
  - ä½ æ— æ³•è·å–å›¾ç‰‡åŸæ¥çš„æ ¼å¼ï¼Œæ°¸è¿œåªèƒ½æ‹¿åˆ°pngï¼Œä¹Ÿå°±æ— æ³•è¿›è¡Œæ ¼å¼åˆ¤æ–­ï¼›
  - bitmapåœ¨ä¸åŒå¹³å°ä¸‹çš„è½¬æ¢ä¸åŒï¼Œè¿™ä¼šé€ æˆå›¾ç‰‡æœ‰å¯èƒ½ä¼šå¢å¤§ä½“ç§¯ï¼Œä¾‹å¦‚ä¸€å¼ 20mçš„å›¾ç‰‡ï¼Œé€šè¿‡getAsFileæ–¹æ³•è·å–åˆ°çš„ï¼Œå¯èƒ½è¶…è¿‡30m......
  - åœ¨macå’Œwindowä¸‹æµ‹è¯•å¯èƒ½ä¼šå¾—åˆ°ä¸¤ä¸ªä¸åŒçš„ç»“æœã€‚
- æœç„¶è¿˜æ˜¯è¦é€šè¿‡inputæ‰èƒ½å®Œæ•´çš„è·å¾—æµè§ˆå™¨çš„æ–‡ä»¶èƒ½åŠ›ã€‚

- å½“ç„¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é—®é¢˜å­˜åœ¨ï¼Œä¾‹å¦‚å¤åˆ¶ç²˜è´´å¤–éƒ¨çš„è¡¨æ ¼å®é™…ä¸Šéœ€è¦å•ç‹¬åšä¸€å±‚è§£æï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šæ›´åŠ éº»çƒ¦ï¼›
  - åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ•°æ®éœ€è¦æ…é‡è€ƒè™‘ï¼Œå› ä¸ºæœ‰äº›æ•°æ®åœ¨æ ¼å¼åŒ–åä¼šæœ‰è½¬å˜çš„é£é™©......

- äº‹å®ä¸Šï¼Œæ•´ä¸ªçš„å¤åˆ¶ç²˜è´´å¹¶æ— æ³•åšåˆ°å®Œç¾ï¼Œåœ¨æµè§ˆå™¨çš„å„ç§é™åˆ¶ä¸‹ï¼Œä¼šæœ‰å¾ˆå¤šæ— æ³•ä¿æŒä¸€è‡´æ€§çš„é—®é¢˜å­˜åœ¨ï¼Œåªèƒ½åœ¨å¤¹ç¼ä¸­ç”Ÿå­˜ã€‚
  - å€˜è‹¥åŸæ¥éœ€è¦å¤åˆ¶ç²˜è´´çš„å†…å®¹æ˜¯ç¬¦åˆhtmlè§„èŒƒçš„ï¼Œé‚£ä¹ˆå¤„ç†èµ·æ¥å°±ä¼šå¾ˆç®€å•ï¼›
  - è‹¥æ˜¯è·Ÿæˆ‘é‡åˆ°çš„åœºæ™¯ä¸€æ ·ï¼Œæ•°æ®åŸºæœ¬éƒ½ä¸ºJSONï¼Œé‚£ä¹ˆåŠ¿å¿…éœ€è¦èŠ±å¤§ç²¾åŠ›å»å¤„ç†æ•°æ®ä¹‹é—´çš„è½¬æ¢å’Œå¤„ç†ä¸€äº›è¾¹ç•Œé—®é¢˜ã€‚

## [åŸºäºè¡¨è¾¾å¼çš„ç¨‹åºè®¾è®¡](https://plantain-00.github.io/blogs/?src=./contents/program-design-based-on-expression.md)

- å¯¹äºæŸäº›ä¸šåŠ¡ï¼Œä¾‹å¦‚ï¼š
  - å¤æ‚æŸ¥è¯¢ï¼Œä¾‹å¦‚ JIRA ä»»åŠ¡çš„ filter
  - â€œè§„åˆ™â€ç›¸å…³çš„éœ€æ±‚ï¼Œä¾‹å¦‚å®šä¹‰ç±»ä¼¼ cron çš„å®šæ—¶ä»»åŠ¡
  - â€œå…³è”â€ç›¸å…³çš„éœ€æ±‚ï¼Œä¾‹å¦‚è®¾ç½®ä¸€æ®µæ–‡å­—çš„é¢œè‰²æ€»æ˜¯ç­‰äºå¦ä¸€æ®µæ–‡å­—çš„é¢œè‰²

- å¦‚æœæŒ‰ç…§æ™®é€šå®šä¹‰æ•°æ®æ¨¡å‹çš„æ–¹å¼ï¼Œå½“ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œå®šä¹‰çš„æ•°æ®æ¨¡å‹ã€æ•°æ®ä¼ è¾“ç»“æ„ã€æ•°æ®åº“ç»“æ„ã€GUI ç­‰éƒ½éœ€è¦éšä¹‹è¿›è¡Œæ‰©å±•ã€‚

- è€Œå¦‚æœä½¿ç”¨è¡¨è¾¾å¼ä½œä¸ºä¸šåŠ¡çš„å†…éƒ¨å­˜å‚¨ã€å®ç°æ–¹å¼ï¼Œæ•°æ®æ¨¡å‹ã€æ•°æ®ä¼ è¾“ç»“æ„ã€æ•°æ®åº“ç»“æ„é‡Œå°±åªæ˜¯è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œä¸å†éœ€è¦é¢‘ç¹æ‰©å±•ï¼Œæ‰§è¡ŒæŸ¥è¯¢ã€è§„åˆ™çš„ä»£ç ä¹Ÿä¸å†éœ€è¦é¢‘ç¹ä¿®æ”¹ï¼Œéœ€è¦ä¿®æ”¹çš„åªæ˜¯ GUIï¼Œä»è€Œå¤§å¹…æé«˜å¼€å‘ã€ç»´æŠ¤æ•ˆç‡ã€‚
- ä¾‹å¦‚ï¼š
  - æ¡ä»¶è¡¨è¾¾å¼ï¼Œname = 'foo' AND status = 'SUCCESS'
  - è¡Œä¸ºè¡¨è¾¾å¼ï¼Œä¾‹å¦‚è®¾ç½® text2 çš„æ–‡å­—é¢œè‰²å±æ€§ä¸º text1.color
- è®¾ç½®è¡¨è¾¾å¼æ—¶ï¼Œå¯ä»¥ï¼š
  - å¯¹è¡¨è¾¾å¼è¿›è¡Œ parseï¼Œæ ¹æ® parse å‡ºçš„æ•°æ®ï¼Œæ˜¾ç¤ºå¯¹åº”çš„è¾“å…¥ GUI
  - æä¾›é«˜çº§æ¨¡å¼ï¼Œæˆ–è‡ªå®šä¹‰æ¨¡å¼ï¼Œä»¥ä¾›ç”¨æˆ·å¯ä»¥ç›´æ¥è¾“å…¥è¡¨è¾¾å¼

- å¯¹äºâ€œå…³è”â€ç›¸å…³çš„éœ€æ±‚ï¼Œä½¿ç”¨è¡¨è¾¾å¼ä¹Ÿå¯ä»¥æ›´å®¹æ˜“åˆ†æå„ä¸ªâ€œå…³è”â€ä¹‹é—´çš„ä¾èµ–å…³ç³»

```JS
get width() {
  return this.parent.width - this.marginLeft - this.marginRight
}

// ä½¿ç”¨è¡¨è¾¾å¼ï¼Œè¿™ç§å†…ç½®å…³è”å…³ç³»å¯ä»¥è¡¨ç¤ºä¸ºï¼š
width = 'this.parent.width - this.marginLeft - this.marginRight'
```

- åœ¨å¯¹ç”¨æˆ·è®¾ç½®çš„å…³è”å…³ç³»ã€å†…ç½®å…³è”å…³ç³»è¿›è¡Œä¾èµ–åˆ†ææ—¶ï¼Œè¡¨è¾¾å¼å½¢å¼çš„å†…ç½®å…³è”å…³ç³»ï¼Œå¯ä»¥é€šè¿‡ parse å‡ºçš„ AST è¿›è¡Œåˆ†æï¼Œå’Œå¯¹ç”¨æˆ·è®¾ç½®çš„å…³è”å…³ç³»åˆ†ææ–¹å¼ä¸€è‡´ï¼›
  - è€Œ getter ä»£ç å½¢å¼çš„å†…ç½®å…³è”å…³ç³»ï¼Œå°±æ— æ³•æä¾›è¿™äº›æ•°æ®ï¼Œåªèƒ½é¢å¤–çš„ä»£ç æ£€æŸ¥æ¥è¿›è¡Œåˆ†æï¼Œéšç€å†…ç½®å…³è”å…³ç³»è¶Šæ¥è¶Šå¤æ‚ï¼Œé¢å¤–çš„ä»£ç æ£€æŸ¥ä¹Ÿéœ€è¦ä¿æŒç›¸åº”çš„æ›´æ–°ï¼Œä»è€Œå¢åŠ äº†ç»´æŠ¤æˆæœ¬ã€‚

## [æ‹–æ‹½äº¤äº’çš„ç¨‹åºè®¾è®¡](https://plantain-00.github.io/blogs/?src=./contents/drag-program-design.md)

- è¿™é‡Œè¯´çš„æ‹–æ‹½äº¤äº’æ˜¯æŒ‡æ‹–æ‹½å…ƒç´ è§¦å‘çš„äº¤äº’ï¼Œä¾‹å¦‚ï¼š
  - æ‹–æ‹½å…ƒç´ æ”¹å˜ä½ç½®
  - æ‹–æ‹½å…ƒç´ è¾¹ç¼˜æ”¹å˜å…ƒç´ å¤§å°
  - æ‹–æ‹½æ»‘å—è®¾ç½®ä¸€ä¸ªæ•°å€¼
  - æ‹–æ‹½æ—¶é’ŸæŒ‡é’ˆè®¾ç½®æ—¶é—´

- è¿™ç±»é—®é¢˜çš„ç›´æ¥æ€è·¯æ˜¯ï¼Œåœ¨å¾…æ‹–æ‹½çš„å…ƒç´ ä¸Šè®¾ç½® drag ç›¸å…³çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¾‹å¦‚ï¼š
  - mousedown äº‹ä»¶ï¼šè®°å½•åˆå§‹ä½ç½®
  - mousemove äº‹ä»¶ï¼šæ ¹æ®å½“å‰ä½ç½®å’Œè®°å½•çš„åˆå§‹ä½ç½®ï¼Œæ”¹å˜å…ƒç´ çš„ä½ç½®æˆ–å¤§å°
  - mouseup äº‹ä»¶ï¼šæ ¹æ®æœ€åçš„ä½ç½®å’Œè®°å½•çš„åˆå§‹ä½ç½®ï¼Œè¿”å›éœ€è¦çš„æ•°æ®
- è¿™ç§æ€è·¯æŸäº›å¤æ‚éœ€æ±‚ä¸‹ä¼šæœ‰ç¼ºç‚¹ï¼ŒåŒ…æ‹¬ï¼š
  - å¦‚æœæ‹–æ‹½åŒºåŸŸè¾ƒå°ï¼Œä¸”ç”¨æˆ·æ‹–æ‹½é€Ÿåº¦è¾ƒå¿«ï¼Œä¼šå¯¼è‡´æ‹–æ‹½ç»“æŸå‰å°±ç¦»å¼€äº†æ‹–æ‹½åŒºåŸŸï¼Œå¯¼è‡´æ²¡æœ‰è§¦å‘ mousedown äº‹ä»¶
  - æ‹–æ‹½åˆ°åˆ«çš„ä¸ç›¸å…³çš„å…ƒç´ ä¸Šï¼Œè§¦å‘ä¸ç›¸å…³çš„å…ƒç´ çš„æ„å¤–è¡Œä¸º

- é€æ˜è’™ç‰ˆå¯ä»¥è§£å†³ä¸Šé¢æ‰€è¯´çš„é—®é¢˜ï¼Œå…·ä½“æ€è·¯ä¸ºï¼š
  - å¢åŠ è¦†ç›–æ•´ä¸ªé¡µé¢çš„é€æ˜è’™ç‰ˆï¼Œåˆå§‹ä½ç½®æ•°æ®ä¸€æ—¦è®¾ç½®ï¼Œé€æ˜è’™ç‰ˆå°±å‡ºç°ï¼Œæ¸…ç©ºåˆå§‹ä½ç½®æ•°æ®æ—¶é€æ˜è’™ç‰ˆå°±ä¼šéšè—
  - æ‹–æ‹½å…ƒç´ çš„ mousedown äº‹ä»¶ï¼šè®°å½•åˆå§‹ä½ç½®
  - é€æ˜è’™ç‰ˆçš„ mousemove äº‹ä»¶ï¼šæ ¹æ®å½“å‰ä½ç½®å’Œè®°å½•çš„åˆå§‹ä½ç½®ï¼Œæ”¹å˜å…ƒç´ çš„ä½ç½®æˆ–å¤§å°
  - é€æ˜è’™ç‰ˆçš„ mouseupã€mouseleave äº‹ä»¶ï¼šæ ¹æ®æœ€åçš„ä½ç½®å’Œè®°å½•çš„åˆå§‹ä½ç½®ï¼Œè¿”å›éœ€è¦çš„æ•°æ®ï¼Œæ¸…ç©ºåˆå§‹ä½ç½®æ•°æ®

- å¦‚æœæ‹–æ‹½è¿‡ç¨‹æœ‰è€—æ—¶æ“ä½œ
  - ä¾‹å¦‚ä¸€ä¸ªå…ƒç´ ä»åˆå§‹å°ºå¯¸æ‹–æ‹½æˆä¸€ä¸ªæ–°çš„å°ºå¯¸ï¼Œå…ƒç´ å†…å®¹éœ€è¦å¤æ‚çš„è®¡ç®—æ‰èƒ½å¾—åˆ°æ–°å°ºå¯¸ä¸‹çš„æ˜¾ç¤ºæ•ˆæœï¼Œè€Œæ‹–æ‹½æ—¶ä¼šé¢‘ç¹è§¦å‘ mousemove å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚è§£å†³æ€è·¯æœ‰ï¼š
  - æ‹–æ‹½æ—¶åªæ›´æ–°å…ƒç´ æ¡†ï¼Œæ‹–æ‹½ç»“æŸæ—¶æ‰æ›´æ–°å…ƒç´ å†…å®¹ï¼šäº¤äº’æ•ˆæœä¸å®Œç¾ï¼Œä½†å¯ä»¥æ¥å—ã€‚
  - é€šè¿‡ debounce é™åˆ¶æ›´æ–°å…ƒç´ å†…å®¹çš„é¢‘ç‡ï¼Œæé«˜äº¤äº’æ•ˆæœçš„åŒæ—¶ï¼Œé¿å…æ€§èƒ½é—®é¢˜ã€‚

- æ‹–æ‹½æ—¶äº§ç”Ÿçš„å¤§é‡æ•°æ®è®°å½•åˆ°æ“ä½œå†å²ä¸­ï¼Œä¼šå¯¼è‡´å›æ’¤åŸºæœ¬ä¸å¯ç”¨ï¼Œè§£å†³æ€è·¯ä¸ºï¼š
  - æ‹–æ‹½æ—¶è¿”å›çš„æ•°æ®ç›´æ¥å­˜å‚¨åœ¨ç»„ä»¶æœ¬åœ° state ä¸Šï¼Œå…ƒç´ æ¡†æ ¹æ®è¿™ä¸ª state çš„æ•°æ®æ˜¾ç¤º
  - æ‹–æ‹½æ—¶è¿”å›çš„æ•°æ® debounce åå­˜å‚¨åœ¨ç»„ä»¶æœ¬åœ° state ä¸Šï¼Œå…ƒç´ å†…å®¹æ ¹æ®è¿™ä¸ª state çš„æ•°æ®åšå¤æ‚è®¡ç®—åæ˜¾ç¤º
  - æ‹–æ‹½ç»“æŸåè¿”å›çš„æ•°æ®å­˜å‚¨åœ¨ç¼–è¾‘å™¨æ“ä½œå†å² state ä¸Šï¼Œå…ƒç´ å†…å®¹æ ¹æ®è¿™ä¸ª state çš„æ•°æ®åšå¤æ‚è®¡ç®—åæ˜¾ç¤ºï¼Œæ¸…ç©ºæœ¬åœ° state
  - å…ƒç´ å†…å®¹çš„è®¡ç®—ä¸­ï¼Œå¦‚æœæœ¬åœ° state ä¸Šæœ‰æ•°æ®ï¼Œè¯´æ˜åœ¨æ‹–æ‹½ä¸­ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®è¿›è¡Œè®¡ç®—ï¼Œå¦åˆ™æ‹–æ‹½å·²ç»ç»“æŸï¼Œä½¿ç”¨ç¼–è¾‘å™¨æ“ä½œå†å² state ä¸Šçš„æ•°æ®è¿›è¡Œè®¡ç®—

- å¦‚æœå…ƒç´ å†…å®¹çš„è®¡ç®—è€—æ—¶ä¸å¯æ§
  - å¯èƒ½å‡ºç°æ‹–æ‹½å®Œæˆåçš„è®¡ç®—ç»“æŸåï¼Œæ‹–æ‹½ä¸­çš„æ•°æ®çš„è®¡ç®—ç»“æœæ‰è¿”å›ã€‚
  - è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œæ‹–æ‹½ä¸­çš„æ•°æ®çš„è®¡ç®—åï¼Œå¦‚æœå·²ç»æ‹–æ‹½ç»“æŸï¼Œä¸¢å¼ƒè®¡ç®—ç»“æœã€‚

## [æ’¤é”€é‡åšçš„ç¨‹åºè®¾è®¡](https://plantain-00.github.io/blogs/?src=./contents/undo-redo.md)

- åœ¨ç¼–è¾‘å™¨ç±»çš„ç¨‹åºä¸­ï¼Œæ’¤é”€é‡åšæ˜¯éå¸¸æ™®éçš„åŠŸèƒ½ã€‚å¯¹å…¶è¿›è¡ŒæŠ½è±¡ã€å¤ç”¨å¯ä»¥å¤§å¹…æé«˜å¼€å‘æ•ˆç‡ã€‚
- åŸºäº snapshot çš„æ’¤é”€é‡åš
  - è¿™æ˜¯æœ€ç®€å•ã€æœ‰æ•ˆçš„å®ç°æ–¹å¼ã€‚
  - æŠŠæ‰€æœ‰å¯æ’¤é”€é‡åšçš„çŠ¶æ€é›†ä¸­åˆ°ä¸€ä¸ª object é‡Œï¼Œä¿®æ”¹çŠ¶æ€åï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ object å¹¶æ”¾åˆ°æ“ä½œå†å²æ•°ç»„ä¸­ï¼Œå¢åŠ æ¸¸æ ‡æ¥æŒ‡ç¤ºå½“å‰çš„çŠ¶æ€ï¼Œç§»åŠ¨æ¸¸æ ‡å³å¯å®ç°æ’¤é”€é‡åšã€‚
- åŸºäº patch çš„æ’¤é”€é‡åš
  - å½“æœ‰å¤šä¸ªç”¨æˆ·è¿›è¡ŒåŒæ—¶ç¼–è¾‘æ—¶ï¼Œä¸šåŠ¡ä¸Šè¦æ±‚ä¸èƒ½æ’¤é”€åˆ«äººçš„ä¿®æ”¹ï¼Œè¿™æ—¶åŸºäº snapshot å°±æ²¡æ³•å®ç°æ’¤é”€é‡åšäº†ã€‚
  - åŸºäº patch æ¥å®ç°æ—¶ï¼Œå¦‚æœå¤šä¸ªç”¨æˆ·æ”¹çš„ä¸æ˜¯åŒä¸€ä¸ªåˆ†æ”¯ï¼Œæ’¤é”€ patch å°±ä¸ä¼šäº’ç›¸å½±å“äº†ã€‚
  - åŸºäº patch æ¥å®ç°æ—¶ï¼Œè®°å½•çš„ä¸å†æ˜¯çŠ¶æ€ä¿®æ”¹ç»“æœï¼Œè€Œæ˜¯ patch å’Œåå‘ patch å†å²ï¼Œæ¯æ¬¡ patch éƒ½è®°å½•æ“ä½œè€…ï¼Œä»¥å®ç°ç”¨æˆ·æ“ä½œçš„éš”ç¦»ã€‚

## [å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¡†æ¶ProseMirrorã€Slateå’ŒLexicalæ¨ªå‘æ¯”è¾ƒ - æ˜é‡‘](https://juejin.cn/post/7140921781380415501)

- æ¯”è¾ƒäº† 
  - editorState, selection, normalize, operation
  - prosemirror, slate, lexical

## ğŸ“ [How to implement a web-based rich text editor in 2023?](https://letsken.com/michael/how-to-implement-a-web-based-rich-text-editor-in-2023)

- Since 2011 Iâ€™ve been spending a great junk of my time taming web browsers to behave correctly and predictably when editing rich text
- If you wanted to take control over how contentEditable behaves, you have to write your own code. 
- The challenges
  - Define a custom model
  - Selection Mapping: You need to have some sort of internal coordinate system to address content (e.g. second paragraph at character 5) and map that to a corresponding position in the DOM and vice versa.
  - Keyboard input: Instead of letting contenteditable do its thing, you want to intercept each keystroke, update your internal model first, and then calculate the minimum update to be made to the DOM to reflect that change.
  - Copy and paste: People will paste all imaginable HTML content from MS Word, Google Docs or other websites. 
  - Undo/redo: Every change made to the document must be reversible.
- ProseMirror
  - Before ProseMirror he released CodeMirror, a web-based editor for source code editing.
- Lexical
  - While Lexical is framework agnostic, I suspect they have a â€œslightâ€ bias towards React, so some decisions might have been made in favor of what will translate best to React. 
- Substance.js
  - It was designed to solve extremely demanding use-cases, as we were building a structured editor for scientific content 
  - Unlike ProseMirror (which uses a hierarchical data model similar to HTML), Substance uses directly addressable properties. So for instance you can refer to an image caption by its unique node id and property name (e.g. [â€˜image_32â€™, â€˜captionâ€™]). That model allows data bindings, such as updating and sorting a reference list, based on the order the citations were placed in the document.
  - Substance also allows documents with multiple editor surfaces. Because in many cases you may want to maintain a title and some metadata, such as author names, that are outside of the documentâ€™s body. Still you want a shared undo/redo history and store all data as one self-contained document.
  - While you can create a Substance document iteratively through a sequence of operations, you can also load and store snapshots of it as XML. Most other frameworks use JSON or HTML as a serialization format. The problem with JSON is, that it can get quite large, as itâ€™s not optimized for hierarchical content. The problem with HTML is, that it is designed to display a document, not to represent its content.
  - Substance is not under active development anymore

- Stay close to the metal
  - I learned to resist the urge to fit the Rich Text Editor into my higher-level Javascript frameworkâ€™s paradigm. 
  - I strongly believe that in the case of rich text editors it is a good idea to stick to native Web APIâ€™s and write plain Javascript. 
  - Why? Because you have full control over rendering and nothing is getting in between. You want to manipulate the DOM at the granularity of text nodes. 
  - Unopinionated editor libraries help you with that.
- Better be conservative
  - Youâ€™ll find that you can build basic features rather quickly. But you will also find that once you leave the common path, like what the editor librariesâ€™ examples are providing, youâ€™ll end up breaking things without noticing it. 
  - Hence, Iâ€™d always start with the smallest possible featureset, and get that stable and tested. 
  - Then carefully add more functionality, one little step at a time. 
  - Itâ€™s easy to make a move forward (e.g. add support for image captions) but itâ€™s almost impossible to make a step back, because once you introduced a new content type, youâ€™ll have user data to maintain and migrate.
- Develop in isolation
  - Iâ€™ve been involved in many projects where the editor component was developed within a complex application setup. 
  - What usually happens is that developers call custom APIs from within editor-specific code. This is a recipe for disaster.
  - The solution is to develop the editor within in a lightweight sandbox, and do integration as a separate step. 
  - If you deal with any data thatâ€™s not part of the editorâ€™s internal content model, you need to come up with a synchronous proxy that shields the async operations from messing with the editor operations. Better yet, you manage to keep all your editor content self-contained.

- How would I build my next editor?
  - My current editor implementation at Ken is based on ProseMirror.
  - However Ken is built with React, and I wanted to use React components for everything
  - So Iâ€™m tempted now to build an easy to understand reference implementation of a complete text editor. Itâ€™d be based off my existing code for the Ken editor, but entirely framework agnostic, fast and future-proof. Instead of a higher level wrapper around ProseMirror (such as TipTap)
  - Another approach thatâ€™s tempting for me is to revive Substance.js, but remove the rendering part of the library and use Svelte instead. 

## ğŸ‘¥ [How to implement a web-based rich text editor in 2023?](https://discuss.prosemirror.net/t/how-to-implement-a-web-based-rich-text-editor-in-2023/5271)

- 
- 
- 
- 
- 

## [Why ContentEditable is Terrible. Or: How the Medium Editor Works | by Nick Santos | Medium Engineering_201405](https://medium.engineering/why-contenteditable-is-terrible-122d8a40e480)

## [ä»æµè¡Œçš„ç¼–è¾‘å™¨æ¶æ„èŠèŠå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„å›°å¢ƒ_202003](http://yoyoyohamapi.me/2020/03/01/%E4%BB%8E%E6%B5%81%E8%A1%8C%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8%E6%9E%B6%E6%9E%84%E8%81%8A%E8%81%8A%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E5%9B%B0%E5%A2%83/)

- å‡ å¹´å‰ï¼ŒMedium Editor çš„å¼€å‘è€…å†™è¿‡ä¸€ç¯‡è‘—åçš„åšæ–‡ï¼šWhy ContentEditable is Terrible?ï¼Œå½“ä¸­åˆ—ä¸¾äº†ä¸€äº› contenteditable å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼š
- è§†è§‰å†…å®¹ï¼ˆç”¨æˆ·æ‰€è§ï¼‰ä¸å®é™…å†…å®¹ï¼ˆDOMï¼‰çš„ä¸€å¯¹å¤šå…³ç³»
  - å°†ç¼–è¾‘è¡Œä¸ºéƒ½æ‰˜ç®¡ç»™äº†æµè§ˆå™¨ï¼Œé‚£ä¹ˆåœ¨ä¸åŒçš„ DOM ç»“æ„ä¸‹ï¼Œæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œæµè§ˆå™¨è¦èƒ½å¤Ÿè¾“å‡ºä¸€æ ·çš„è§†è§‰å†…å®¹ã€‚
- è§†è§‰é€‰åŒºä¸å®é™…é€‰åŒºçš„å¤šå¯¹å¤šå…³ç³»
  - ä¸€ä¸ªè§†è§‰é€‰åŒºå¯èƒ½æ˜ å°„ä¸ºå¤šç§ DOM é€‰åŒºï¼Œè€Œä¸€ä¸ª DOM é€‰åŒºä¹Ÿå¯èƒ½æ˜ å°„ä¸ºå¤šä¸ªè§†è§‰é€‰åŒº

- Why ContentEditable is Terrible? è¿˜æœ‰ä¸€ä¸ªå‰¯æ ‡é¢˜ï¼š How Medium Editor Works?ï¼Œå®ƒä¸ä»…ä»…æè¿°äº† contenteditable å­˜åœ¨çš„ç¼ºé™·ï¼Œè¿˜ä»¥æ­¤ä¸ºå¼•ï¼Œé˜è¿°äº† Medium Editor çš„å·¥ä½œæœºåˆ¶ã€‚
  - è¿‘å¹´æ¥ç¤¾åŒºæ´»è·ƒåº¦é¢‡é«˜çš„ Slate.jsï¼ŒDraft.js ã€ProseMirror ä»¥åŠ CKEditor ç­‰ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„æœºåˆ¶ï¼Œæ¥è§„é¿ contenteditable ç¼ºé™·ï¼Œ
- è¿™ä¸ªæœºåˆ¶å¯ä»¥è¢«ç®€å•æè¿°ä¸ºï¼š
- æ¨¡å‹ä¸è§†å›¾ç›¸åˆ†ç¦»
  - è®©ç¼–è¾‘å™¨å†³å®šæ•°æ®ç»“æ„ï¼ˆå†…å®¹ + é€‰åŒºï¼‰ï¼Œä¿è¯è§†è§‰ä¸å®é™…ä¸€è‡´
  - æ–¹ä¾¿åŒæ ·çš„å†…å®¹åœ¨ä¸åŒè®¾å¤‡è®¾å¤‡å±•ç¤º
- è‡ªå®šä¹‰å‘½ä»¤
  - è„±ç¦»å®ç°ä¸ä¸€çš„æµè§ˆå™¨å‘½ä»¤ï¼ˆdocument.execCommandï¼‰ï¼Œè‡ªè¡Œåˆ’å®šç¼–è¾‘å™¨çš„æ“ä½œèŒƒå›´
- è¿™ç§æœºåˆ¶æœ€å°ç¨‹åº¦ä½¿ç”¨äº† contenteditable â€”â€” ä»…ä»…è®©ä¸€ä¸ªèŠ‚ç‚¹çš„ HTML å†…å®¹å…è®¸è¢«ç¼–è¾‘ï¼Œè€Œå¦‚ä½•ç¼–è¾‘ï¼Œç¼–è¾‘å™¨ç»“æœåˆ™æ”¶æ•›åˆ°äº†ç¼–è¾‘å™¨æ²»ç†

- é˜²æ‚£æœªç„¶ï¼šåŸºäºè¡Œä¸ºçš„åŒæ­¥ç­–ç•¥
- ç¼–è¾‘å™¨ä½¿ç”¨äº†è§†å›¾æ¨¡å‹ç›¸åˆ†ç¦»çš„æ¶æ„ï¼Œå°±éœ€è¦å¤„ç†è§†å›¾ä¸æ¨¡å‹é—´çš„åŒæ­¥ï¼Œå½“ç”¨æˆ·åœ¨ç¼–è¾‘å™¨å®Œæˆäº†æ“ä½œåï¼Œç¼–è¾‘å™¨æ®æ­¤æ›´æ–°æ•°æ®æ¨¡å‹ï¼Œå†é€šè¿‡æ•°æ®æ¨¡å‹æ¸²æŸ“å‡ºæ–°çš„é¡µé¢è§†å›¾å³å¯¹è§†å›¾
- ç¼–è¾‘å™¨æ˜¯å¦‚ä½•çŸ¥é“ç”¨æˆ·æ‰§è¡Œäº†å“ªä¸ªæ“ä½œå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ DOM äº‹ä»¶ï¼Œå‡è®¾ç›‘å¬åˆ°äº† keyCode = 8 çš„ keydown äº‹ä»¶ï¼ˆEventï¼‰ï¼Œå°±æ¨æµ‹ç”¨æˆ·æ˜¯åœ¨æ‰§è¡Œé€€æ ¼ï¼ˆIntentï¼‰ï¼Œä»è€Œè°ƒç”¨è‡ªå®šä¹‰çš„åˆ é™¤æŒ‡ä»¤ï¼ˆCommandï¼‰ï¼Œä¿®æ”¹æ•°æ®æ¨¡å‹ï¼Œæœ€ç»ˆç”¨æˆ·çœ‹åˆ°å…‰æ ‡å‰çš„å­—ç¬¦è¢«æˆåŠŸåˆ é™¤äº†ã€‚
- åŸºäºäº‹ä»¶æ‹¦æˆªçš„æ•°æ®åŒæ­¥ï¼Œæ˜¯ç†æƒ³å‹çš„åŒæ­¥é“¾è·¯ï¼Œå…ˆæ›´æ–°æ¨¡å‹ï¼Œå†æ¸²æŸ“è§†å›¾ï¼Œç”±äºæ¨¡å‹å’Œè§†å›¾ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œç”¨æˆ·æ‰§è¡Œäº†ç›¸åŒçš„æ“ä½œï¼Œæ€»èƒ½è·å¾—ä¸€è‡´çš„ DOM ç»“æ„ï¼Œ
- ç„¶è€Œï¼Œç”±äº DOM Event çš„è§„èŒƒä»ç„¶åœ¨å‘å±•ï¼Œå„ä¸ªæµè§ˆå™¨å¯¹å…¶çš„å®ç°ä¹Ÿä¸å°½ç›¸åŒï¼Œå› æ­¤ï¼ŒåŸºäºäº‹ä»¶æ‹¦æˆªçš„åŒæ­¥ä¹Ÿä¸å®Œå…¨å¯é ã€‚
- ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œbeforeinput event æ˜¯éå¸¸æœ‰ç”¨çš„ä¸€ä¸ªäº‹ä»¶ï¼Œè¯¥äº‹ä»¶åœ¨ Input Events Level 1 è¢«å®šä¹‰ï¼Œå¹¶åœ¨ Input Events Level 2 ä¸­è·å¾—å®Œå–„ï¼Œè§„èŒƒå¸Œæœ›èƒ½å¸®åŠ©ç±»ä¼¼ Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è¿™æ ·çš„åº”ç”¨æ›´å®¹æ˜“åœ°å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚
- beforeinput event èƒ½è®©å¼€å‘è€…åœ¨è¾“å…¥åé¦ˆåˆ° UI ä¹‹å‰ï¼Œé€šè¿‡äº‹ä»¶çš„ inputType å±æ€§çŸ¥æ‚‰ç”¨æˆ·è¾“å…¥æ„å›¾ï¼ˆä¾‹å¦‚ï¼Œå½“ inputType æ˜¯ deleteContentBackward æ—¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“ç”¨æˆ·æ­£åœ¨å‘å‰åˆ é™¤å†…å®¹ï¼‰ï¼Œ ä½†å°´å°¬çš„æ˜¯ï¼š
  - è¦ä¹ˆæµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ªäº‹ä»¶
  - è¦ä¹ˆéƒ¨åˆ†æ”¯æŒè¿™ä¸ªäº‹ä»¶ï¼šä¾‹å¦‚è¦†ç›–åˆ°çš„ input type ä¸å…¨
- å› æ­¤ï¼ŒDOM Event æœ¬èº«çš„ä¸å®Œç¾ï¼Œä¹Ÿå°±è®©ç¼–è¾‘å™¨éš¾ä»¥å®Œå…¨æ‘¸æ¸…ç”¨æˆ·æ„å›¾ã€‚
- è€Œå¯¹ç”¨æˆ·æ„å›¾çš„æ¨¡ç³Šï¼Œä¹Ÿä¼šé€ æˆï¼š
  - æ— æ³•ç†è§£ ï¼šç¼–è¾‘å™¨å¿½ç•¥äº†æŸä¸ªç”¨æˆ·æ“ä½œ
  - ç†è§£é”™è¯¯ ï¼šå°†ç”¨æˆ·çš„æ“ä½œç†è§£ä¸ºäº†å¦ä¸€ä¸ªæ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·æ˜¯åœ¨è¾“å…¥ï¼Œä½†è¢«ç¼–è¾‘å™¨ç†è§£ä¸ºäº†åˆ é™¤ï¼Œé€ æˆæ•°æ®æ¨¡å‹å‘ç”Ÿéé¢„æœŸå˜æ›´ï¼Œç”¨æˆ·çœ‹åˆ°é”™è¯¯çš„è§†å›¾
- å› æ­¤ï¼ŒåŸºäºäº‹ä»¶çš„åŒæ­¥æ¨¡å‹ä¹Ÿæ˜¯ä¸€ä¸ªç†æƒ³å‹æ¨¡å‹ï¼Œå—é™äºæµè§ˆå™¨æ”¯æŒï¼Œåœ¨å®é™…åº”ç”¨ä¸­å¹¶ä¸å®Œå…¨å¯é ã€‚

- äº¦æ•Œäº¦å‹ï¼šè¾“å…¥æ³•
- è¾“å…¥æ³•æœ¬èº«åˆä¸å—æ§äºç¼–è¾‘å™¨ï¼Œå®ƒå®Œå…¨ç”±ç¬¬ä¸‰æ–¹å‚å•†å®ç°ï¼Œå…¶å®ç°ä¹Ÿåªå’Œæ“ä½œç³»ç»Ÿæœ‰å…³
- è¾“å…¥æ³•å’Œæ“ä½œç³»ç»Ÿäº¤äº’æ¥åˆæˆæ–‡æœ¬ï¼Œæµè§ˆå™¨ä¹Ÿé€šè¿‡æ“ä½œç³»ç»Ÿï¼Œè·å¾—è¾“å…¥æ³•çŠ¶æ€ï¼Œåœ¨è¾“å…¥è¿‡ç¨‹ä¸­æŠ›å‡ºå¯¹åº”äº‹ä»¶ã€‚
- è¾“å…¥æ³•ç¹å¤š ï¼šä¸åŒçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€æµè§ˆå™¨å†…æ ¸ï¼Œå’Œè¾“å…¥æ³•èƒ½å½¢æˆä¼—å¤šçš„ç»„åˆï¼Œæ¯ç§ç»„åˆåœ¨ contenteditable å…ƒç´ ä¸Šè¿›è¡Œæ–‡æœ¬åˆæˆçš„æ—¶å€™ï¼Œéš¾ä»¥å½¢æˆä¸€è‡´çš„äº‹ä»¶æµ
- è¾“å…¥æ–¹å¼å¤šæ · ï¼šé™¤äº†é”®ç›˜èƒ½å¤Ÿè¿›è¡Œæ–‡æœ¬åˆæˆï¼Œè¿˜è¦æ”¯æŒæ‰‹å†™ã€è¯­éŸ³ç­‰è¾“å…¥æ–¹å¼
- Android å› ä¸ºå…¶ç”Ÿæ€ç´Šä¹±ï¼Œç³»ç»Ÿç‰ˆæœ¬åˆ†å¸ƒå¹¿æ³›ï¼Œä½¿ç”¨ä¸åŒå†…æ ¸çš„æµè§ˆå™¨ä¼—å¤šï¼Œåº”ç”¨å¸‚åœºçš„ç¬¬ä¸‰æ–¹è¾“å…¥æ³•å±‚å‡ºä¸ç©·ï¼Œè®©åŸºäºäº‹ä»¶è¿›è¡ŒåŒæ­¥çš„ç­–ç•¥æ›´åŠ è„†å¼±ã€‚
- åœ¨ Android ä¸‹ä½¿ç”¨æŸä¸ªç¬¬ä¸‰æ–¹æµè§ˆå™¨é…åˆä¸ŠæŸä¸ªç¬¬ä¸‰æ–¹è¾“å…¥æ³•ç¼–å†™å†…å®¹æ—¶ï¼Œå¯èƒ½é‡åˆ°ï¼š
  - æµè§ˆå™¨ä¸ä¼šæŠ›å‡º beforeinput äº‹ä»¶ ï¼šç¼–è¾‘å™¨æ— æ³•é€šè¿‡ beforeinput äº‹ä»¶ä¸­çš„ inputType å±æ€§çŸ¥æ‚‰ç”¨æˆ·è¡Œä¸º
  - æµè§ˆå™¨æ²¡æœ‰ä¼ é€’æ­£ç¡®çš„è™šæ‹Ÿé”®ç›˜å“åº” ï¼šå¾ˆå¤š Android è¾“å…¥æ³•éƒ½æ”¯æŒå­—è¯è”æƒ³ï¼Œå½“è™šæ‹Ÿé”®ç›˜å‘¼å‡ºåï¼Œå¼€å§‹è¿›å…¥ Composing çŠ¶æ€ï¼Œæ­¤æ—¶ keydown äº‹ä»¶çš„ keyCode éƒ½ä¼šè¢«è®¾ç½®ä¸º 229ï¼Œé‚£ä¹ˆç¼–è¾‘å™¨æ— æ³•ä¹Ÿæ— æ³•ä» keydown äº‹ä»¶çŸ¥æ‚‰ç”¨æˆ·è¡Œä¸º
- è¿™å°±ä¼šé€ æˆæ¯”è¾ƒæ¶æ€§çš„ç°è±¡ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå½“ç”¨æˆ·å°†å…‰æ ‡æ”¾ç½®åœ¨å›¾ç‰‡ä¹‹åæ—¶ï¼Œè¾“å…¥æ³•è¢«å”¤èµ·ï¼Œç”¨æˆ·é€šè¿‡è™šæ‹Ÿé”®ç›˜æŒ‰ä¸‹äº†é€€æ ¼é”®å¸Œæœ›èƒ½å¤Ÿåˆ é™¤å›¾ç‰‡ã€‚ä½†ç”±äºç¼–è¾‘å™¨æ—¢æ— æ³•æ‹¦æˆª beforeinput äº‹ä»¶æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯ä¸æ˜¯åœ¨æ‰§è¡Œåˆ é™¤ï¼Œä¹Ÿæ— æ³•é€šè¿‡ keydown äº‹ä»¶åˆ¤æ–­åˆ¤æ–­é”®ç›˜çš„é€€æ ¼æ˜¯å¦è¢«æŒ‰ä¸‹ï¼Œå› æ­¤ï¼Œä¹Ÿå°±ä¸ä¼šç”Ÿæˆå¯¹åº”çš„å‘½ä»¤å»ä¿®æ”¹æ•°æ®æ¨¡å‹ï¼Œåˆ é™¤å¯¹åº”èŠ‚ç‚¹ã€‚æ­¤æ—¶ï¼Œç”¨æˆ·æ— è®ºæ€ä¹ˆç–¯ç‹‚ç‚¹æŒ‰é€€æ ¼ï¼Œéƒ½ä¸èƒ½æŠŠå›¾ç‰‡åˆ æ‰ã€‚
- å› æ­¤ï¼ŒåŸºäºäº‹ä»¶çš„åŒæ­¥ç­–ç•¥ï¼Œåœ¨é¢å¯¹è¾“å…¥æ³•æ—¶ï¼Œå˜å¾—æ›´åŠ ä¸å¯é ï¼Œç¤¾åŒºç›®å‰æµè¡Œçš„å¼€æºç¼–è¾‘å™¨ä¹Ÿä»åœ¨å’Œ Android è¾“å…¥æ³•ä½œæ–—äº‰

- äº¡ç¾Šè¡¥ç‰¢ï¼šåŸºäºç°è±¡çš„åŒæ­¥ç­–ç•¥
- ç¼–è¾‘å™¨ä¹‹æ‰€ä»¥å¸Œå†€äºäº‹ä»¶å»åŒæ­¥æ•°æ®æ¨¡å‹å’Œè§†å›¾ï¼Œæ˜¯æœŸæœ›åœ¨æµè§ˆå™¨å¯¹é¡µé¢æ‰§è¡Œå˜æ›´å‰ï¼Œå°½æ—©å°†ç”¨æˆ·è¡Œä¸ºåŒæ­¥åˆ°æ•°æ®æ¨¡å‹ä¸Šï¼Œå®ç°å®é™…å†…å®¹ä¸è§†è§‰å†…å®¹çš„ç»Ÿä¸€ã€‚ä½†æˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªæœ¬å°±ä¸å¥å£®çš„ç­–ç•¥å†é‡åˆ°è¾“å…¥æ³•ä¹‹åï¼Œæ— æ³•å“åº”ç”¨æˆ·æ“ä½œçš„æ¦‚ç‡æ›´é«˜äº†ã€‚
- å¦‚æœå›åˆ°æ¶æ„ä¹‹å‰ï¼Œä»ç„¶æ‰˜ç®¡ contenteditable çš„æ§åˆ¶æƒç»™æµè§ˆå™¨ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å‘ç°ï¼Œè¾“å…¥æ³•çš„å¢åˆ æ”¹æŸ¥è¿˜æ˜¯èƒ½æ­£ç¡®å“åº”çš„ï¼Œè¿™ä¹Ÿå°±è¯´æ˜äº†ï¼Œæ‰˜ç®¡ç»™æµè§ˆå™¨å»å¤„ç† contenteditableï¼Œç”¨æˆ·æœ€åŸºæœ¬çš„ç¼–è¾‘è¯‰æ±‚è¿˜æ˜¯å¯ä»¥ä¿éšœçš„ã€‚
- å½“æµè§ˆå™¨å¤„ç†äº†ç”¨æˆ·çš„è¡Œä¸ºå¹¶æ›´æ–°äº†è§†å›¾åï¼Œæˆ‘ä»¬è¦å°½å¿«çš„å» â€œçº æ­£â€ æ•°æ®æ¨¡å‹ï¼Œäº¡ç¾Šè¡¥ç‰¢ï¼ŒçŠ¹æœªä¸ºæ™šã€‚
- æµè§ˆå™¨æä¾›äº† Mutation Observer æ¥è®©å¼€å‘è€…ç›‘å¬ DOM å˜æ›´ï¼Œå®ƒçš„ API éå¸¸ç®€å•ï¼Œåˆå§‹åŒ–è§‚å¯Ÿè€…ä¹‹åï¼Œåœ¨é€‚å½“æ—¶æœºå¼€å§‹è§‚å¯Ÿå³å¯ï¼Œæ¯æ¬¡è§‚å¯Ÿåˆ°çš„å˜æ›´åºåˆ—ï¼Œå…¶ä¸­çš„å…ƒç´ éƒ½æ˜¯ MutationRecord å¯¹è±¡
- å€ŸåŠ©äº Mutation Observerï¼Œç¼–è¾‘å™¨åœ¨è§‚å¯Ÿåˆ° DOM å˜åŒ–åï¼Œå¯ä»¥æ ¹æ®å˜åŒ–ï¼ˆç°è±¡ï¼‰æ¥åæ¨ç”¨æˆ·è¡Œä¸ºï¼Œä»è€Œç”Ÿæˆå¯¹åº”çš„å‘½ä»¤ï¼Œå»ä¿®ç¼®æ•°æ®æ¨¡å‹
- è¿™ç§ äº‹ååŒæ­¥ ï¼Œå¼¥è¡¥äº†æµè§ˆå™¨æ— æ³•æ´¾å‘æ­£ç¡®äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ä»èƒ½æ¨æµ‹ç”¨æˆ·è¡Œä¸º â€”â€” é€šè¿‡ç°è±¡å»åæ¨ç”¨æˆ·è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œç”±äºç°è±¡çš„æˆå› å¯èƒ½æœ‰å¤šä¸ªï¼Œå› æ­¤æˆ‘ä»¬å°±å¯èƒ½é€ æˆé”™è¯¯çš„æ¨æ–­
- æˆ‘ä»¬çš„æ˜¯äººè‚‰å­¦ä¹ ï¼Œä¸ºäº†è·å¾—æ›´å¤šç‰¹å¾ï¼Œå»æ›´ç²¾ç¡®çš„æ˜ å°„ç”¨æˆ·è¡Œä¸ºï¼Œå¼€å‘è€…å°†ç–²äºåº”ä»˜ä¸åŒçš„ Android è®¾å¤‡ï¼Œä¸åŒçš„æµè§ˆå™¨ï¼Œä»¥åŠä¸åŒçš„è¾“å…¥æ³•å½¢æˆçš„ç§ç§ç»„åˆã€‚
- ç»¼ä¸Šï¼ŒåŸºäºç°è±¡å»åŒæ­¥æ•°æ®æ¨¡å‹ï¼Œæ˜¯æ›´ä¸ç‰¢é çš„æ‰‹æ®µï¼Œ å³ä¾¿å¼€å‘è€…æŠ•å…¥äº†å¤§é‡ç²¾åŠ›å»è·å¾—ç°è±¡å’Œæ„å›¾é—´çš„å…³è”å…³ç³»ï¼Œä½†éš¾å…è¿˜æ˜¯æœ‰ â€œæ¼ç½‘ä¹‹é±¼â€ï¼Œå¯¼è‡´æ¨¡å‹ åŒæ­¥é”™è¯¯ ï¼Œè¿™ä¹Ÿè®¸æ¯”ä¸èƒ½å“åº”æ“ä½œæ›´åŠ ä¸¥é‡ã€‚
- è€ŒåŸºäºäº‹ä»¶çš„åŒæ­¥æ¨¡å‹ï¼Œå› ä¸ºäº‹ä»¶æœ¬èº«å°±è¡¨è¾¾äº†ç”¨æˆ·æ„å›¾ï¼Œæ‰€ä»¥æ¨æµ‹ä¼šæ›´åŠ ç²¾å‡†ï¼Œæ‰€ä»¥ï¼Œåªæœ‰å½“äº‹ä»¶ç³»ç»Ÿä¸å®Œå–„æ—¶ï¼ˆä¾‹å¦‚åœ¨ Android è®¾å¤‡ä¸‹ï¼‰ï¼Œæˆ‘ä»¬æ‰ä½¿ç”¨åŸºäºç°è±¡çš„åŒæ­¥åšå…œåº•ï¼Œä¿è¯ç”¨æˆ·åœ¨ç¼–è¾‘å™¨èƒ½è¿›è¡Œæœ€åŸºæœ¬çš„è¾“å…¥ã€‚

- DOM çš„è™šå®è°ƒå’Œ
- ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘ä¸­ï¼Œå·²ç»å¾ˆå°‘ä½¿ç”¨çœŸå® DOM æ¥è¡¨è¾¾ä¸€ä¸ªç»„ä»¶äº†ï¼Œå¦‚æœé€‰ç”¨äº†ç±»ä¼¼ React è¿™æ ·çš„è§£å†³æ–¹æ¡ˆå»æè¿°å®ç°ç¼–è¾‘å™¨è§†å›¾ï¼ˆSlate.jsã€Draft.js å°±å€¾å‘äºæ­¤ï¼‰ï¼Œå°±ä¼šè®©è§†å›¾çš„è¡¨è¾¾ â€œè™šå®å¹¶å­˜â€
- åœ¨ Android è®¾å¤‡ä¸Šï¼Œä¸ºäº†è§£å†³è¾“å…¥æ³•é—®é¢˜ï¼Œç¼–è¾‘å™¨å°†è¾“å…¥å…ˆæ‰˜ç®¡ç»™æµè§ˆå™¨ï¼Œå¹¶ Mutation Observer è§‚å¯Ÿ DOM å˜åŒ–ï¼Œè€Œåå†å»åŒæ­¥æ•°æ®æ¨¡å‹ã€‚åœ¨è¿™æ ·çš„ç­–ç•¥ä¸‹ï¼Œç”¨æˆ·çš„è¾“å…¥è¿‡ç¨‹åœ¨æ²¡æœ‰ç»“æŸä¹‹å‰ï¼Œéƒ½æ˜¯æµè§ˆå™¨åœ¨å¤„ç†ï¼Œå½“ä¸­å‘ç”Ÿè®¸è®¸å¤šå¤šçš„å˜æ›´ï¼Œä¸å†å— React æ§åˆ¶ï¼Œå¾ˆå®¹æ˜“é€ æˆ â€œè™šå®ä¸è°ƒâ€ï¼Œå¼•èµ·ç¼–è¾‘å™¨å´©æºƒã€‚
- å› æ­¤ï¼Œå½“ä½¿ç”¨äº†ç±»ä¼¼ React è¿™æ ·çš„æ–¹æ¡ˆä¹‹åï¼Œç¼–è¾‘å™¨éœ€è¦æ›´åŠ  è°¨å°æ…å¾®åœ° å¤„ç†æ•°æ®åŒæ­¥ï¼Œåœ¨å®¹æ˜“å¼•èµ·è™šå®ä¸è°ƒçš„åœºåˆï¼ˆä¾‹å¦‚æ®µè½åˆ†è£‚ä¸åˆå¹¶ï¼‰ï¼Œå¼ºåˆ·ï¼ˆrerenderï¼‰ç¼–è¾‘å™¨ç»„ä»¶ï¼Œè°ƒå’Œè™šå®ï¼Œè®© DOM ä¸ VDOM ä¿æŒä¸€è‡´ã€‚
  - è€Œå¯¹äºé¢„æ–™ä¸åˆ°çš„åœºåˆï¼Œå¯èƒ½è¿˜éœ€è¦å€ŸåŠ© componentDidCatch è¿™æ ·çš„ hook å»ä¿˜è·å¼‚å¸¸ï¼Œå¼ºåˆ·ç»„ä»¶ã€‚
  - æœ‰ React å¼€å‘ç»éªŒçš„åŒå­¦éƒ½çŸ¥é“ï¼Œå¯¹äºç¼–è¾‘å™¨è¿™æ ·å†…éƒ¨å­å­™ç¹å¤šçš„ç»„ä»¶ï¼Œé‡ç»˜çš„å¼€é”€æ˜¯éå¸¸çš„ï¼Œæœ€ç»ˆï¼Œåœ¨ç»ˆç«¯ç”¨æˆ·ä¸€ä¾§ï¼Œå°±æ˜¯çœ‹åˆ°é¡µé¢é—ªçƒå’Œå¡é¡¿ã€‚

- ä¸Šæ–‡å¯¹ Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å›°å±€çš„è®¨è®ºï¼Œè¿˜ä»…ä»…å±€é™å•æœºç‰ˆçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚æœè¿˜è¦ä¸ºç¼–è¾‘å™¨æ”¯æŒå¤šäººå®æ—¶ååŒï¼Œé‚£ä¹ˆé¢å¯¹çš„æŒ‘æˆ˜æ›´åŠ è‰°å·¨ã€‚
- é¢å¯¹è¿™æ ·çš„ç”Ÿæ€ï¼Œåšä¸åˆ°æŠ›å¼ƒï¼Œç¼–è¾‘å™¨åªèƒ½å»é€‚åº”å’Œå¦¥åï¼Œä½†åœ¨å…¶é¢†åŸŸèŒƒå›´å†…ï¼Œä¼¼ä¹è¿˜å¯ä»¥æœ‰ä¸€äº›çªç ´ï¼š
  - æ˜¯å¦èƒ½é€šè¿‡äº¤äº’ç»•å¼€ç¼ºé™·ï¼Ÿ
  - æ˜¯å¦èƒ½è„±ç¦» contenteditable çš„æ¶æ„ï¼Ÿ

## [ä¸€æ–‡å¸¦ä½ äº†è§£å¯Œæ–‡æœ¬æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ - æ˜é‡‘](https://juejin.cn/post/7159204268770230303)

- å›½å¤–notionä½¿ç”¨äº†å—çº§ç¼–è¾‘å™¨ï¼Œä¸€åˆ‡çš†ç»„ä»¶ï¼Œä¸€ç‚®èµ°çº¢ã€‚ä¹‹åå—çº§ç¼–è¾‘å™¨çš„æ€è·¯è¢«è®¤å¯ã€‚
  - åšL1çš„notionä¸€æ ·å¯ä»¥æœ‰è‡ªå·±æ’ç‰ˆå¸ƒå±€ï¼Œå†åŠ ä¸Šç°ä»£æµè§ˆå™¨å›½å†…çš„ä¸æ–­åŠ å¼ºï¼Œä¼¼ä¹L1æ²¡æœ‰è¶³å¤Ÿçš„åŠ¨åŠ›å‡çº§ä¸ºL2ç¼–è¾‘å™¨äº†ã€‚
  - å…¸å‹çš„ä¾‹å­æœ‰é£ä¹¦å’Œè¯­é›€ï¼Œä»–ä»¬æ˜¯æœ‰è¶³å¤ŸäººåŠ›å’Œæ—¶é—´æ¥å‡çº§åˆ°L2ï¼Œä½†å®é™…ä¸Šä»–ä»¬å¼•å…¥æ›´å¤šçš„å—çº§ç»„ä»¶ã€‚
  - ç”¨æ¥å®ç°â€œä¸€åˆ‡çš†å¯¹è±¡â€æ¦‚å¿µï¼Œå¾ˆå¥½çš„å®ç°äº†äº’è”ç½‘æœ€å¤§çš„éœ€æ±‚ï¼Œâ€œæŠŠä¿¡æ¯è¿æ¥èµ·æ¥â€ã€‚

- æˆ‘ä»¬æ–‡æ¡£æ‹¥æœ‰è‡ªå·±mvcæ¨¡å¼ï¼Œmodelå±‚æœ‰8ç§åŸºç¡€çš„åŸå­æ“ä½œï¼Œæ‰€æœ‰æ“ä½œéƒ½å¯ä»¥åˆ†è§£æˆè¿™8ç§ï¼Œyjså­˜å‚¨çš„å…¶å®å°±æ˜¯è¿™äº›æ“ä½œï¼Œå‰ç«¯å±•ç¤ºçš„æ—¶å€™ï¼Œä¼šä¸€æ­¥æ­¥é‡ç°è¿™äº›æ“ä½œï¼Œå½¢æˆç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„æ–‡æ¡£
- slateä¸­Textç›¸å…³çš„æ“ä½œæ˜¯é€šè¿‡Stringæ‰€è‡ªå¸¦çš„å‡½æ•°å®ç°çš„ï¼Œæ¯”å¦‚spliceã€‚YTextä¸ºäº†å†…å®¹ä¸è¢«ä¸€ä¸‹å­è¦†ç›–æ‰ï¼Œä¹Ÿåšäº†ç±»ä¼¼çš„å¤„ç†
- æˆ‘ä»¬å»ºç«‹äº†ç‹¬ç«‹çš„æ’¤é”€æ ˆï¼ˆundoï¼‰å’Œé‡åšæ ˆï¼ˆredoï¼‰ï¼Œå¹¶æŠŠç”¨æˆ·è¾“å…¥çš„åŸå­æ“ä½œæ”¾å…¥æ’¤é”€æ ˆï¼Œæ’¤é”€åçš„æ“ä½œå†æ”¾å…¥é‡åšæ ˆã€‚å½“ç”¨æˆ·æ’¤é”€æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠ undo æ ˆæœ€ä¸Šé¢çš„æ“ä½œå–å‡ºï¼Œå¹¶åè½¬æ‰§è¡Œã€‚

- Op-based CRDT çš„æ€è·¯ä¸ºï¼šå¦‚æœä¸¤ä¸ªç”¨æˆ·çš„æ“ä½œåºåˆ—æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œé‚£ä¹ˆæœ€ç»ˆæ–‡æ¡£çš„çŠ¶æ€ä¹Ÿä¸€å®šæ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥ç´¢æ€§è®©å„ä¸ªç”¨æˆ·ä¿å­˜å¯¹æ•°æ®çš„æ‰€æœ‰æ“ä½œ(Operations)ï¼Œç”¨æˆ·ä¹‹é—´é€šè¿‡åŒæ­¥ Operations æ¥è¾¾åˆ°æœ€ç»ˆä¸€è‡´çŠ¶æ€
- ä½†æˆ‘ä»¬æ€ä¹ˆä¿è¯ Op çš„é¡ºåºæ˜¯ä¸€è‡´çš„å‘¢ï¼Œå¦‚æœæœ‰å¹¶è¡Œçš„ä¿®æ”¹æ“ä½œåº”è¯¥è°å…ˆè°åï¼Ÿç­”æ¡ˆæ˜¯æŒ‰ç…§ç”¨æˆ·åŠ å…¥æ—¶çš„idè¿›è¡Œæ’åºã€‚
  - æ˜¾ç„¶ï¼Œyjsæ˜¯æŒ‰ç…§clientIDçš„é¡ºåºï¼Œæ¥å®ç°è¦†ç›–çš„ã€‚
  - æˆ‘å»ç¿»æºç ä¹Ÿè¯å®äº†è¿™ä¸€å‡è®¾
- yjsä¼šæŒ‰ç…§clientIDçš„æ’åºæ¥ï¼Œåˆ’é‡ç‚¹ï¼Œå’Œæ—¶é—´æ²¡æœ‰å…³ç³»ï¼Œä¸€ä¸ªclientIDå¯èƒ½æ¯”è¾ƒæ™šäº§ç”Ÿï¼Œä½†æ˜¯ä»–å¯èƒ½ä¼šæ’åœ¨å‰é¢ã€‚å½“ç„¶ï¼Œä¸€æ¬¡è¿æ¥ä¸­ï¼Œè¿™ä¸ªé¡ºåºæ˜¯å›ºå®šçš„ã€‚
  - è¿™æ—¶å€™ï¼Œå¯èƒ½æœ‰äººè¦è¯´ï¼Œè¿™ä¸å¯¹äº†ã€‚è¿™æ ·å²‚ä¸æ˜¯ï¼Œä¸€ä¸ªäººçš„æ•°æ®æ°¸è¿œä¼šè¢«å¦ä¸€ä¸ªè¦†ç›–~~
  - å®é™…ä½¿ç”¨ä¸­ï¼ŒåŒæ–¹æ˜¯æŒç»­ä¸æ–­è¾“å…¥çš„ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸ä¼šåœ¨åŒä¸€æ¬¡åˆå¹¶ä¸­ï¼ŒåŒæ—¶ä¿®æ”¹ä¸€ä¸ªå€¼ã€‚å½“ç„¶ï¼Œå¦‚æœçœŸçš„è§¦å‘äº†ï¼Œåˆ™ä¼šè¦†ç›–ã€‚è‡³äºï¼Œåšåˆ°ä¸è¦†ç›–åˆä½“éªŒè‰¯å¥½ï¼Œé‚£ææ€•åªèƒ½äººå·¥äº†ï¼Œåƒgitä¸€æ ·ã€‚æœ‰æ—¶å€™ï¼Œç»“åˆå®é™…çš„å¦¥åä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆã€‚

## [åœ¨çº¿åä½œè½¯ä»¶çš„ä¸‰ä¸ªæ ¸å¿ƒå¼•æ“](https://juejin.cn/post/7002595221103968293)

- ä¼˜ç§€çš„åä½œè½¯ä»¶å¿…ç„¶ç”±ä¸‰ä¸ªæ ¸å¿ƒå¼•æ“æ„å»ºï¼šæ¸²æŸ“å¼•æ“ï¼ŒååŒå¼•æ“ä»¥åŠæ•°æ®å¼•æ“
- æ¸²æŸ“å¼•æ“
  - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
  - è¡¨æ ¼ç¼–è¾‘å™¨
  - ppt/mind-mapï¼šå›¾å½¢ç¼–è¾‘å™¨
  - biï¼šå¸ƒå±€è®¾è®¡å™¨ + å›¾æ ‡è®¾è®¡å™¨
- ååŒå¼•æ“
  - å³æ—¶æ€§ã€ä¸€è‡´æ€§ã€å¥å£®æ€§
  - ååŒå¼•æ“å­˜åœ¨çš„ç›®çš„ï¼Œæœ¬è´¨å°±æ˜¯ä¿æŒå„ä¸ªç»ˆç«¯åœ¨å±•ç¤ºåŒä¸€ä¸ªå†…å®¹æ¨¡å‹æ—¶ï¼Œèƒ½å¤Ÿåœ¨å•ä¸ªæ“ä½œæ¶ˆè´¹åˆ°æ¨¡å‹ä¹‹åï¼Œæ¨¡å‹ä¿æŒä¸€è‡´
  - é˜¶æ®µ1 - å®¢æˆ·ç«¯å‘é€æ“ä½œï¼Œ
    - æ“ä½œç­‰å¾…åŒæ­¥ç»™Server(å…¶ä»–åä½œè€…) pendingCommmands
    - æ“ä½œåŒæ­¥ç»™Serverï¼ˆå…¶ä»–åä½œè€…ï¼‰ sendingCommands
    - æ“ä½œå·²åŒæ­¥ç»™Serverï¼ˆå…¶ä»–åä½œè€…ï¼‰ sentCommmands
  - é˜¶æ®µ2 - å®¢æˆ·ç«¯æ¨¡å‹æ¶ˆè´¹æ“ä½œ
    - æ“ä½œä½œç”¨äºModelä¹‹åï¼Œå®¢æˆ·ç«¯çš„Modelåº”å½“ä¸æœåŠ¡ç«¯çš„Modelä¿æŒä¸€è‡´
- æ•°æ®å¼•æ“
  - Word - openxmlçš„è®¾è®¡
  - Etherpad - é‡‡ç”¨å­—ç¬¦ä¸² Z:1>6b|5+6b$Welcome to Etherpad!
  - Google Docs Word - é‡‡ç”¨ä¸€ä¸ªcommandsé›†åˆçš„è®¾è®¡
  - Google Docs Spread - è®¾è®¡æ¯”è¾ƒåƒExcelï¼Œä½†æ˜¯ä½¿ç”¨çš„protobuf
  - Notion - å¾ˆæ˜æ˜¾æ˜¯ç»“æ„åŒ–çš„å±æ€§æ•°æ®ï¼Œå¹¶ä¸”ä½¿ç”¨CRDTçš„å†²çªè§£å†³æ•°æ®ç»“æ„
- åœ¨Startupé˜¶æ®µï¼Œæ‰¾åˆ°å¯¹åº”é¢†åŸŸçš„åˆé€‚æŠ€æœ¯é€‰å‹ï¼Œé€‰æ‹©åšå‡ºä½ åä½œè½¯ä»¶çš„MVPï¼Œå½“è‡ªç ”èƒ½å¤Ÿæˆä¸ºä½ çš„å£å’æˆ–è€…ä¼˜åŠ¿ï¼Œå†é€‰æ‹©è‡ªç ”

## [Concept of Block Style Editor](https://domino-editor.psyhyde.vercel.app/docs/)

- https://github.com/psyhyde/domino-editor
  - A Playbook for Block Style Editor (BSE): Text Styling, Block Components, Misc Functions & Theme Switcher

- Background of Block-Style Editorï¼š
  - Markdown, for its high readability and simple syntax, has been adopted widely; 
    - Pure Markdown editing is WYSIWYM
  - Most Web-based RTF editors follow WYSIWYG interaction pattern
  - Block Style Editors provide a Markdown-like but WYSIWYG editing experience
  - On UX and interaction level, BSE provides a similar experience to Typora, MarkText, but with integrated Mini-App Blocks

- Features of Block-Style Editorï¼š
  - Follow a structure of Markdown (Template) + CSS + Fonts
  - Inherent the text styling rules of Markdown, 
    - keep its simplicity and content-focusing approach; 
    - Remove features like: line spacing, font size, font color
  - Expand text editing into Text Editing & Styling and Mini-App Customization
  - Mini-App Blocks: table, image container, advanced code block, prefabricated UI view, embeds.
  - A web-based Content Editor that, take Interactive Document and Modular UI as guideline, 
    - use Block or Paragraph as content unit, 
    - use Markdown as its Template Structure.

- Block-Style Editor has its roots in CMS(content management system), SSG (static site generator), GitHub& Markdown, MDX, JSX, and Low-code Site Building.
- In a sense, a Block Style Editor is a Modular CMS for web document use case.
# editor-ide

## [LSP-language-server-protocolè§„èŒƒå­¦ä¹ ](https://zhuanlan.zhihu.com/p/343218679)

- LSP(Language Server Protocol) è¯­è¨€æœåŠ¡åè®®ï¼Œè¯¥åè®®å®šä¹‰äº†åœ¨ç¼–è¾‘å™¨æˆ–IDEä¸è¯­è¨€æœåŠ¡å™¨ä¹‹é—´ä½¿ç”¨çš„åè®®ï¼Œè¯¥è¯­è¨€æœåŠ¡å™¨æä¾›äº†ä¾‹å¦‚è‡ªåŠ¨è¡¥å…¨ï¼Œè½¬åˆ°å®šä¹‰ï¼ŒæŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨ç­‰çš„åŠŸèƒ½ï¼›è¯­è¨€æœåŠ¡å™¨ç´¢å¼•æ ¼å¼çš„ç›®æ ‡æ˜¯æ”¯æŒåœ¨å¼€å‘å·¥å…·ä¸­è¿›è¡Œä¸°å¯Œçš„ä»£ç å¯¼èˆªæˆ–è€…ä¸€ä¸ªæ— éœ€æœ¬åœ°æºç å‰¯æœ¬çš„WebUIã€‚

- æ¯ä¸ªå¼€å‘IDEï¼Œéƒ½è¦ä¸ºè¯­è¨€å®ç°ç±»å¦‚è‡ªåŠ¨è¡¥å…¨ï¼Œè½¬åŠ¨å®šä¹‰ï¼Œæ‚¬åœåœ¨å•è¯ä¸Šæä¾›æ–‡æ¡£çš„åŠŸèƒ½ï¼Œä¼ ç»Ÿä¸Šï¼Œéœ€è¦ä¸ªIDEæ ¹æ®è‡ªå·±çš„APIå®ç°ä¸Šè¿°å·¥ä½œï¼Œå³ä½¿æ˜¯ç›¸åŒçš„åŠŸèƒ½ï¼Œä¹Ÿè¦æ ¹æ®ä¸åŒIDEå®ç°ä¸€éé‡å¤çš„åŠŸèƒ½ï¼Œä»£ç å´ä¸åŒã€‚
- LSPè®¾è®¡çš„ç›®æ ‡æ˜¯ä½¿è¯¥è¯­è¨€æœåŠ¡å™¨å’Œå¼€å‘å·¥å…·è¿›è¡Œæ ‡å‡†åŒ–çš„é€šä¿¡ï¼Œè¿™ä¸ªè¯­è¨€æœåŠ¡å¯ä»¥åœ¨å¤šä¸ªå¼€å‘å·¥å…·ä¸­é‡å¤ä½¿ç”¨ï¼Œä»è€Œä»¥æœ€å°çš„æ”¹åŠ¨æ”¯æŒå¤šç§è¯­è¨€ã€‚è¯­è¨€æœåŠ¡å™¨åç«¯å¯ä»¥ç”¨PHPï¼ŒPythonæˆ–Javaç¼–å†™ï¼ŒLSPå¯ä»¥è½»æ¾åœ°å°†å…¶é›†æˆåˆ°å„ç§å·¥å…·ä¸­ï¼Œè¯¥åè®®æä¾›é€šç”¨æŠ½è±¡çº§åˆ«çš„åè®®ï¼Œä»¥ä¾¿å·¥å…·å¯ä»¥æä¾›ä¸°å¯Œçš„è¯­è¨€æœåŠ¡ï¼Œä»è€Œæ— éœ€å®Œå…¨ç†è§£ç‰¹å®šäºåº•å±‚åŸŸæ¨¡å‹çš„ç»†å¾®å·®åˆ«ã€‚

- è¯­è¨€æœåŠ¡å™¨ä¼šä½œä¸ºå•ç‹¬çš„è¿›ç¨‹è¿è¡Œï¼ŒåŒæ—¶å¼€å‘å·¥å…·ä½¿ç”¨åŸºäºJSON-RPCçš„è¯­è¨€åè®®ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚
  - ç”¨æˆ·åœ¨IDEä¸­æ‰“å¼€æ–‡ä»¶æ—¶: IDEä¼šé€šçŸ¥è¯­è¨€æœåŠ¡å™¨æ–‡ä»¶å·²æ‰“å¼€(textDocument/didOpen)ï¼Œæ­¤æ—¶æ–‡æ¡£çš„å†…å®¹ä¸ä¼šå­˜åœ¨äºçœŸå®çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œæ˜¯ä¿å­˜åœ¨IDEå†…å­˜ä¸­ã€‚å¿…é¡»åœ¨IDEå’Œè¯­è¨€æœåŠ¡å™¨ä¹‹é—´åŒæ­¥å†…å®¹ã€‚
  - ç”¨æˆ·ç¼–è¾‘æ–‡ä»¶æ—¶ï¼šIDEä¼šé€šçŸ¥è¯­è¨€æœåŠ¡å™¨æ–‡ä»¶æ›´æ–°(textDocument/didChange)ï¼Œå¹¶ä¸”è¯­è¨€æœåŠ¡å™¨ä¼šæ›´æ–°æ–‡ä»¶çš„è¯­è¨€è¡¨ç¤ºã€‚ä¹‹åè¯­è¨€æœåŠ¡å™¨ä¼šåˆ†ææ­¤æ¶ˆæ¯ï¼Œå¹¶å°†æ£€æµ‹åˆ°çš„é”™è¯¯å’Œè­¦å‘Šï¼Œå“åº”(textDocument/publishDiagnostics)é€šçŸ¥IDEã€‚
  - ç”¨æˆ·æ‰§è¡Œ"Goto Definition" æŒ‡ä»¤æ—¶: IDEå‘é€å¸¦æœ‰å‚æ•°çš„è¯·æ±‚(textDocument/definition), params: {documentURI, position} åˆ°è¯­è¨€æœåŠ¡å™¨ï¼Œè¯­è¨€æœåŠ¡å™¨ä»¥æ–‡æ¡£URIå’Œdefinitionçš„Locationä½œä¸ºå“åº”ã€‚
  - ä¸Šè¿°ç¤ºä¾‹è¯´æ˜äº†åè®®å¦‚ä½•åœ¨æ–‡æ¡£å¼•ç”¨ï¼ˆURIï¼‰å’Œæ–‡æ¡£ä½ç½®çº§åˆ«ä¸è¯­è¨€æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚è¿™äº›æ•°æ®ç±»å‹ä¸ç¼–ç¨‹è¯­è¨€æ— å…³ï¼Œé€‚ç”¨äºæ‰€æœ‰ç¼–ç¨‹è¯­è¨€ã€‚
- å½“ç”¨æˆ·ä½¿ç”¨ä¸åŒçš„è¯­è¨€æ—¶ï¼ŒIDEä¼šä¸ºæ¯ç§ç¼–ç¨‹è¯­è¨€å¯åŠ¨è¯­è¨€æœåŠ¡å™¨
  - å¹¶ä¸æ˜¯æ¯ç§è¯­è¨€æœåŠ¡å™¨éƒ½å¯ä»¥æ”¯æŒåè®®å®šä¹‰çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå› æ­¤LSPæä¾›äº†capabilitiesï¼Œä¸€ä¸ªcapabilitieså¯ä»¥å°†ä¸€ç»„è¯­è¨€capabilityç»„åˆåœ¨ä¸€èµ·ï¼ŒIDEå’Œè¯­è¨€æœåŠ¡å™¨ä½¿ç”¨èƒ½åŠ›å®£å¸ƒå…¶æ”¯æŒçš„åŠŸèƒ½ã€‚
  - éœ€è¦æ³¨æ„ï¼šè¯­è¨€æœåŠ¡å™¨åˆ°ç‰¹å®šIDEçš„å®ç°é›†æˆä¸æ˜¯ç”±è¯­è¨€æœåŠ¡å™¨åè®®å®šä¹‰çš„ï¼Œè€Œæ˜¯ç”±IDEå®ç°è€…å†³å®š

### [å¦‚ä½•è¯„ä»·å¾®è½¯çš„ Language Server Protocolï¼Ÿ](https://www.zhihu.com/question/50218554)

- æˆ‘åªæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ è¿™ç©æ„ä¼šä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨ä¹ˆï¼Ÿ
  - æœåŠ¡å™¨å°±åœ¨ä½ æœ¬åœ°ã€‚ã€‚ã€‚æ‡‚äº†æ²¡ï¼Ÿï¼Ÿåªæ˜¯å’Œç¼–è¾‘å™¨åˆ†å¼€äº†ï¼Œé€šè¿‡é€šä¿¡æ¥äº¤æµ
  - ç½‘ç»œä¼ è¾“ä¼šè®©ä½ çš„ideè·‘çš„æ…¢æ­» ç›®å‰çš„éƒ½æ˜¯æœ¬åœ°æœåŠ¡å™¨ä¹Ÿå°±æ˜¯ä¸ªè·¨è¿›ç¨‹é€šè®¯è€Œå·²
# editor-non-js

## [kilo: Build Your Own Text Editor](https://viewsourcecode.org/snaptoken/kilo/)

- https://github.com/antirez/kilo /c
  - a small text editor in less than 1K lines of code

- https://github.com/vruss/Hecto /rust
  - This is a personal project mainly to learn Rust by implementing a text editor

- https://github.com/ilai-deutel/kibi /MIT/rust
  - Kibi: A text editor in â‰¤1024 lines of code, written in Rust
  - A configurable text editor with UTF-8 support, incremental search, syntax highlighting, line numbers and more
  - Kibi is compatible with Linux, macOS, and Windows 10
  - This project is inspired by kilo
  - Porting the kilo source code from C to Rust and trying to make it idiomatic was interesting
  - https://github.com/slashdotted/kibi
    - In this fork, simple collaboration features based on Melda have been implemented. 
    - The implemented paradigm is save and refresh: when the user saves the local copy, changes from other users are merged. 

- [kilo: Build Your Own Text Editor | Hacker News_201908](https://news.ycombinator.com/item?id=20603567)

- This is an instruction booklet that shows you how to build a text editor in C.

## [Hecto: Build your own text editor in Rust](https://www.flenker.blog/hecto/)

- This is a series of blog posts that shows you how to build a text editor in Rust. 
  - Itâ€™s a re-implementation of kilo in Rust
# more
- [Rich text editors from backend perspective](https://habr.com/en/articles/533956/)
  - in this article Iâ€™m going to overview the most popular types of rich text editors, tradeoffs of their use from a backend perspective
  - Streaming of content from the rich text editor to other infrastructure tools like full-text search, warehouses, etc.
  - Retrieving of content to clients: mobile, web, desktop.
  - Storing of content in some kind of storage (SQL database in my case)
  - Analyzing of content, which includes point 1, but also analyzing it from the perspective of our application
  - My hybrid solution
    - As I donâ€™t find any Json based free editors, and there was not enough markdown functionality, I decided to make a hybrid solution.
    - I use a rich text editor, but I implement parsers on the backend side so that I have my custom JSON structure inside the backend as well as raw HTML structure.
    - I have enough flexibility, because even if text editor implementation will change â€” it wonâ€™t affect guys who use JSON content type from the backend, because it remains the same, but yes, I would need to update the parsers.
    - As a trade-off â€” it costs because you need to implement parsing from HTML to JSON and vice versa along with tests
    - JSON costs more space in your storage, but as I said, the choice of editor is about trade-offs.
    - Have you seen GoogleDocs developers.google.com/docs/api for inspiration. Looks well structured and at least well documented for me

- [[æ–¹æ¡ˆ]é€ ä¸€ä¸ªå¯Œæ–‡æœ¬ ç®€ä»‹](http://luo0412.gitee.io/core/nav.4-2.ui/ch5-toolbox/02-5047253998648002.html)

- [å“”å“©å“”å“© ä»é›¶å¼€å§‹çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¸Šï¼‰_slate_202209](https://www.bilibili.com/read/cv18606877)
  - [å“”å“©å“”å“© ä»é›¶å¼€å§‹çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¸‹ï¼‰ - åˆ—è¡¨-å›¾ç‰‡_slate_202210](https://www.bilibili.com/read/cv19147722)

- [é‡å­¦ç¼–è¾‘å™¨ - æ˜é‡‘](https://juejin.cn/post/7231476258163900476)

- [How to choose a text editor for a digital-first newsroom?](https://autentika.com/blog/how-to-choose-a-text-editor-for-a-digital-first-newsroom)

- [Text Rendering Hates You](https://gankra.github.io/blah/text-hates-you/)
  - [TEXT EDITING HATES YOU TOO](https://lord.io/text-editing-hates-you-too/)

- [ä¸ºä»€ä¹ˆ ContentEditable å¾ˆææ€–](https://www.oschina.net/translate/why-contenteditable-is-terrible)

- [Slate.js - é©å‘½æ€§çš„å¯Œæ–‡æœ¬ç¼–è¾‘æ¡†æ¶](https://s1973.top/blog/0015499011852838c3eb8e0d6d14a3f97bee6e61fa1cd26000)

- [å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯_UC-Hugo.js_201908](https://developer.aliyun.com/article/712971)

- [How we use WebAssembly at Fiberplane_202205](https://fiberplane.dev/blog/how-we-use-webassembly-at-fiberplane/)
- [Creating a Rich Text Editor using Rust and React_202204](https://fiberplane.dev/blog/creating-a-rich-text-editor-using-rust-and-react/)
  - We used to use Slate.js â€” a fine editor â€” but as weâ€™re implementing our own rich text primitives for collaborative editing, we discovered the disconnect between our own primitives and Slateâ€™s data model to be somewhat of a hindrance. So we got to thinking - what if we just built our own Rich Text Editor (RTE)?
  - From a very high-level perspective, a rich text editor is comprised of two components:
  - A data model and the core logic to operate on it.
  - A view that renders the state of said data model and that handles the user interactions.

- [Over 14 years of todos recorded in text: My productivity app is a never-ending .txt file](https://jeffhuang.com/productivity_text_file/)

- [å‰ç«¯å¯Œæ–‡æœ¬åŸºç¡€åŠå®ç°, åç»¼è¿°ï¼ŒåŸºäºcontenteditable+document.execCommand](https://juejin.cn/post/7124839474575441934)

- [WebAssembly åœ¨åœ¨çº¿æ–‡æ¡£åˆ†è¯åœºæ™¯ä¸­çš„è§£å†³æ–¹æ¡ˆ](https://github.com/YingshanDeng/wasm-cppjieba/issues/1)

- [VS Codeã€ATOMè¿™äº›å¼€æºæ–‡æœ¬ç¼–è¾‘å™¨çš„ä»£ç å®ç°ä¸­æœ‰å“ªäº›å¥‡æŠ€æ·«å·§ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/272156541/answers/updated)

- [Webå¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¼”è¿› - æ˜é‡‘](https://juejin.cn/post/7116899761340284936#heading-11)
  - vscode çš„ç¼–è¾‘å™¨ï¼ˆmonacoï¼‰æ˜¯åŸºäºL2å®ç°çš„

- [ä»é›¶å†™ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆäºŒï¼‰â€”â€”æ–‡æ¡£æ¨¡å‹ - æ˜é‡‘](https://juejin.cn/post/6934368266382999565)
  - [ä»é›¶å¼€å§‹å†™ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰ - æ˜é‡‘](https://juejin.cn/post/6924346082797289480)

- [å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼šTinyMCEã€Editor.jsã€Lexicalã€CKEditorä¸CodeMirrorå¯¹æ¯” - ercwang](https://0x763ad28bc4436590fd61998561730b0f7790e955.xlog.app/TinyMCEEditorjsLexicalCKEditorCodeMirror)

- [Ask HN: How to do cross platform GUI? | Hacker News](https://news.ycombinator.com/item?id=24242412)

- [Future Text Publishing](https://futuretextpublishing.com/)
  - The aim is to inspire a powerfully rich future of text in a multitude of ways today, and for the work to still have value in a thousand years & beyond.
