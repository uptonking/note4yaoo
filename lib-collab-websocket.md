---
title: lib-collab-websocket
tags: [collaboration, realtime, websocket]
created: 2022-10-11T08:54:41.610Z
modified: 2022-10-11T09:02:26.869Z
---

# lib-collab-websocket

# guide

- feathersæ¡†æ¶ä¸ºå®æ—¶ç±»åº”ç”¨è€Œè®¾è®¡

- who is using #websocket
  - NodeBB
# draft
- è·¨æ ‡ç­¾é¡µå…±äº«wsè¿æ¥ï¼Œæ¨¡æ‹Ÿå…±äº«çš„æ•ˆæœ
  - åŸºäº BroadcastChannel
- å¤šåˆ†æï¼Œä¸ä¸€å®šè¦å…±äº«ï¼Œä¸åŒé¡µé¢å±•ç¤ºä¸åŒäº§å“ä¹Ÿè®¸æ˜¯ç‰¹è‰²
  - å…±äº«çš„ä¸ä¸€å®šè¦æ˜¯è¿æ¥ï¼Œå¯ä»¥æ˜¯æ•°æ®
# docs
- [Introduction | Socket. IO](https://socket.io/docs/v4/)
  - `socket.emit("hello", "world")` will be sent as a single WebSocket frame containing `42["hello","world"]` with:
  - 4 being Engine. IO "message" packet type
  - 2 being Socket. IO "message" packet type
  - `["hello", "world"]` being the `JSON.stringify()`-ed version of the arguments array
  - a few additional bytes for each message, which can be further reduced by the usage of a custom parser

- [Emit cheatsheet | Socket.IO](https://socket.io/docs/v4/emit-cheatsheet/)
# blogs
- [Pushpin | Generic Realtime Intermediary Protocol](https://pushpin.org/docs/protocols/grip/)
  - GRIP makes it possible for a web service to delegate realtime push behavior to a proxy component

## [My tips for using Socket.io _201803](https://www.ux-republic.com/en/my-tips-for-using-socket-io/)

- The first step before you start anything is to develop a standard for naming your socket events. 
  - For my part, I use the format domain:action
  - This format allows initially to avoid duplicates and especially to have a better readability on the role of the event. 
  - Splitting events into Domaine also makes it possible to logically divide its functions into several files corresponding to their respective domains.

- handlers are neither more nor less than files where we will implement the logic of events. 
  - The goal is to separate your code by respecting the same logic as for the naming (i.e., by creating a file by Domaine). 

- Validate your events: Joi to the rescue

- create helpers in another file
  - we are not going to rewrite our whole piece of code each time we are going to create an event.
  - we are going to create a helper which will allow us to create an event and validate the payload of the event with a Joi schema
  - `bindEvent` allows you to create the event on the socket, to check the payload (if a schema has been passed to it), to return an error if it is not valid, and finally to call the callback by adding the socket current in it.

## ğŸª§ [éƒ½2022å¹´äº†ï¼Œå®æ—¶æ›´æ–°æ•°æ®ä½ è¿˜åªä¼šç”¨çŸ­è½®è¯¢? - æ˜é‡‘](https://juejin.cn/post/7139684620777291807)

- åˆ†ææ€è·¯
  - è¿æ¥åˆ›å»ºå’Œé”€æ¯æ¬¡æ•°
  - ä¼ è¾“æ•°æ®çš„å®æ—¶ç²’åº¦

- æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°å®¢æˆ·ç«¯éœ€è¦å®æ—¶è·å–æœåŠ¡ç«¯æœ€æ–°æ•°æ®çš„åœºæ™¯ï¼Œä¾‹å¦‚èŠå¤©ç³»ç»Ÿ(WeChat/Telegram)ï¼Œè‚¡ç¥¨è¡Œæƒ…æŸ¥çœ‹è½¯ä»¶(åŒèŠ±é¡º/å¯Œé€”)ï¼Œfeedæ¨é€ç³»ç»Ÿ(Twitter/å¾®åš)ç­‰ç­‰
  - æŠ€æœ¯æ–¹æ¡ˆæ˜¯æœ‰å¾ˆå¤šçš„ï¼Œæœ¬æ–‡å°†ä¼šç»™å¤§å®¶ä»‹ç»å››ç§å¸¸è§çš„å®æ—¶è·å–æœåŠ¡ç«¯æ•°æ®çš„æ–¹æ¡ˆï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šçŸ­è½®è¯¢(polling)ï¼Œé•¿è½®è¯¢(long polling)ï¼Œé•¿è¿æ¥(WebSocket)ä»¥åŠæœåŠ¡å™¨äº‹ä»¶æ¨é€(Sever-Sent Events, aka SSE)

### è½®è¯¢

- ç®€å•æ¥è¯´è½®è¯¢å°±æ˜¯å®¢æˆ·ç«¯ä¸åœåœ°è°ƒç”¨æœåŠ¡ç«¯æ¥å£ä»¥è·å¾—æœ€æ–°çš„æ•°æ®
  - å®¢æˆ·ç«¯åœ¨å‘èµ·è¯·æ±‚åæœåŠ¡ç«¯ä¼šç«‹å³å“åº”ï¼Œä¸è¿‡å› ä¸ºè¿™æ—¶æœåŠ¡ç«¯çš„æ•°æ®æ²¡æœ‰æ›´æ–°æ‰€ä»¥è¿”å›äº†ä¸€ä¸ªç©ºçš„ç»“æœç»™å®¢æˆ·ç«¯ã€‚
  - å®¢æˆ·ç«¯åœ¨ç­‰å¾…äº†ä¸€æ®µæ—¶é—´å(å¯èƒ½æ˜¯å‡ ç§’)ï¼Œå†æ¬¡è¯·æ±‚æœåŠ¡ç«¯çš„æ•°æ®

- ä¼˜ç‚¹å°±æ˜¯å®ç°ç®€å•

- ç¼ºç‚¹
- æ— ç”¨çš„è¯·æ±‚å¤š: å› ä¸ºå®¢æˆ·ç«¯ä¸çŸ¥é“æœåŠ¡ç«¯ä»€ä¹ˆæ—¶å€™æœ‰æ•°æ®æ›´æ–°ï¼Œæ‰€ä»¥å®ƒåªèƒ½ä¸åœåœ°è¯¢é—®æœåŠ¡ç«¯ï¼Œå¦‚æœæœåŠ¡ç«¯çš„æ•°æ®æ›´æ–°å¹¶ä¸é¢‘ç¹çš„è¯ï¼Œè¿™äº›è¯·æ±‚å¤§å¤šéƒ½æ˜¯æ— ç”¨çš„ã€‚æ— ç”¨çš„è¯·æ±‚ä¼šå¯¼è‡´æœåŠ¡ç«¯çš„å¸¦å®½å ç”¨å¢åŠ ï¼Œæ¶ˆè€—æœåŠ¡ç«¯èµ„æºï¼ŒåŒæ—¶å¦‚æœå®¢æˆ·ç«¯æ˜¯ä¸€äº›ç§»åŠ¨è®¾å¤‡çš„è¯ï¼Œè€—ç”µé€Ÿåº¦ä¹Ÿä¼šå¾ˆå¿«ã€‚
- æ•°æ®å®æ—¶æ€§å·®: ç”±äºä¸æƒ³æ¶ˆè€—å¤ªå¤šå®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯çš„èµ„æºï¼Œæˆ‘ä»¬é€šå¸¸åœ¨å®ç°è½®è¯¢æ—¶ä¸ä¼šæ‹¿åˆ°ä¸Šä¸€ä¸ªè¯·æ±‚çš„ç»“æœåç«‹å³å‘é€ç¬¬äºŒä¸ªè¯·æ±‚ï¼Œè¿™å°±å¯¼è‡´äº†å³ä½¿æœåŠ¡ç«¯çš„æ•°æ®æ›´æ–°äº†ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯è¿˜æ˜¯éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½æ‹¿åˆ°æœ€æ–°çš„æ•°æ®ï¼Œè¿™å¯¹äºä¸€äº›æ•°æ®å®æ—¶æ€§è¦æ±‚é«˜çš„åº”ç”¨ä¾‹å¦‚IMç³»ç»Ÿæ˜¯è‡´å‘½çš„ã€‚

### é•¿è½®è¯¢

- å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åï¼ŒæœåŠ¡ç«¯å‘ç°å½“å‰æ²¡æœ‰æ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯æ²¡æœ‰ç«‹å³è¿”å›è¯·æ±‚ï¼Œè€Œæ˜¯å°†è¯·æ±‚æŒ‚èµ·ï¼Œåœ¨ç­‰å¾…ä¸€æ®µæ—¶é—´å(ä¸€èˆ¬ä¸º30sæˆ–è€…æ˜¯60s)ï¼Œå‘ç°è¿˜æ˜¯æ²¡æœ‰æ•°æ®æ›´æ–°çš„è¯ï¼Œå°±è¿”å›ä¸€ä¸ªç©ºç»“æœç»™å®¢æˆ·ç«¯ã€‚
  - å®¢æˆ·ç«¯åœ¨æ”¶åˆ°æœåŠ¡ç«¯çš„å›å¤åï¼Œç«‹å³å†æ¬¡å‘æœåŠ¡ç«¯å‘é€æ–°çš„è¯·æ±‚ã€‚
  - æ¯æ¥ä¸€ä¸ªæ–°çš„è¿æ¥æˆ‘ä»¬éƒ½ä¼šå°†å®ƒæŒ‚èµ·æ¥(ä¿å­˜åœ¨seté‡Œé¢)ï¼Œç„¶åå½“æœ‰æ–°çš„äº‹ä»¶äº§ç”Ÿæ—¶å†å°†æ‰€æœ‰è¯¥å®¢æˆ·ç«¯æ²¡æœ‰è·å–è¿‡çš„äº‹ä»¶è¿”å›ç»™å®ƒ

- ä¼˜ç‚¹
  - æœåŠ¡ç«¯åœ¨æ²¡æœ‰æ•°æ®æ›´æ–°çš„æƒ…å†µä¸‹æ²¡æœ‰ç»™å®¢æˆ·ç«¯è¿”å›æ•°æ®ï¼Œæ‰€ä»¥é¿å…äº†å®¢æˆ·ç«¯å¤§é‡çš„é‡å¤è¯·æ±‚
  - å®¢æˆ·ç«¯åœ¨æ”¶åˆ°æœåŠ¡ç«¯çš„è¿”å›åï¼Œé©¬ä¸Šå‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™å°±ä¿è¯äº†æ›´å¥½çš„æ•°æ®å®æ—¶æ€§

- ç¼ºç‚¹
- æœåŠ¡ç«¯èµ„æºå¤§é‡æ¶ˆè€—: æœåŠ¡ç«¯ä¼šä¸€ç›´holdä½å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¿™éƒ¨åˆ†è¯·æ±‚ä¼šå ç”¨æœåŠ¡å™¨çš„èµ„æºã€‚å¯¹äºæŸäº›è¯­è¨€æ¥è¯´ï¼Œæ¯ä¸€ä¸ªHTTPè¿æ¥éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œè¿‡å¤šçš„HTTPè¿æ¥ä¼šæ¶ˆè€—æ‰æœåŠ¡ç«¯çš„å†…å­˜èµ„æºã€‚
- éš¾ä»¥å¤„ç†æ•°æ®æ›´æ–°é¢‘ç¹çš„æƒ…å†µ: å¦‚æœæ•°æ®æ›´æ–°é¢‘ç¹ï¼Œä¼šæœ‰å¤§é‡çš„è¿æ¥åˆ›å»ºå’Œé‡å»ºè¿‡ç¨‹ï¼Œè¿™éƒ¨åˆ†æ¶ˆè€—æ˜¯å¾ˆå¤§çš„ã€‚
  - è™½ç„¶HTTPçš„keep-aliveå­—æ®µå¯ä»¥è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä¸è¿‡æ¯æ¬¡æ‹¿åˆ°æ•°æ®åå®¢æˆ·ç«¯éƒ½éœ€è¦é‡æ–°subscribeï¼Œå› æ­¤ç›¸å¯¹äºWebSocketå’ŒSSEå®ƒå¤šäº†ä¸€ä¸ªå‘é€æ–°è¯·æ±‚çš„é˜¶æ®µï¼Œå¯¹å®æ—¶æ€§å’Œæ€§èƒ½è¿˜æ˜¯æœ‰å½±å“çš„ã€‚

### WebSocket

- å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªæŒä¹…çš„é•¿è¿æ¥ï¼Œè¿™ä¸ªè¿æ¥æ˜¯åŒå·¥çš„ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥å®æ—¶åœ°ç»™å¯¹æ–¹å‘é€æ¶ˆæ¯
  - é¦–å…ˆå®¢æˆ·ç«¯ä¼šç»™æœåŠ¡ç«¯å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚çš„Headerä¼šå‘Šè¯‰æœåŠ¡ç«¯å®ƒæƒ³åŸºäºWebSocketåè®®é€šä¿¡ï¼Œå¦‚æœæœåŠ¡ç«¯æ”¯æŒå‡çº§åè®®çš„è¯ï¼Œä¼šç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªSwitching Protocalçš„å“åº”ï¼Œå®ƒä»¬ä¹‹é—´åé¢éƒ½æ˜¯åŸºäºWebSocketåè®®æ¥é€šä¿¡äº†ã€‚
  - å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯ä¼šè®°ä½å®¢æˆ·ç«¯çš„æ—¶é—´æˆ³ï¼Œå½“æ–°äº‹ä»¶äº§ç”Ÿçš„æ—¶å€™ä¼šç»™å®¢æˆ·ç«¯æ¨é€æ‰€æœ‰çš„æ–°äº‹ä»¶ã€‚

- ä¼˜ç‚¹
- å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹è¿æ¥çš„æ¬¡æ•°å°‘ï¼šç†æƒ³æƒ…å†µä¸‹å®¢æˆ·ç«¯åªéœ€è¦å‘é€ä¸€ä¸ªHTTPå‡çº§åè®®å°±å¯ä»¥å‡çº§åˆ°WebSocketè¿æ¥ï¼Œåé¢æ‰€æœ‰çš„æ¶ˆæ¯éƒ½æ˜¯é€šè¿‡è¿™ä¸ªé€šé“è¿›è¡Œé€šä¿¡ï¼Œæ— éœ€å†æ¬¡å»ºç«‹è¿æ¥ã€‚
- æ¶ˆæ¯å®æ—¶æ€§é«˜ï¼šç”±äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿æ¥æ˜¯ä¸€ç›´å»ºç«‹çš„ï¼Œæ‰€ä»¥å½“æ•°æ®æ›´æ–°çš„æ—¶å€™å¯ä»¥é©¬ä¸Šæ¨é€ç»™å®¢æˆ·ç«¯ã€‚
- åŒå·¥é€šä¿¡ï¼šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½å¯ä»¥éšæ—¶ç»™å¯¹æ–¹å‘é€æ¶ˆæ¯ï¼Œè¿™å¯¹äºæœ¬æ–‡çš„å…¶å®ƒä¸‰ç§æ–¹æ¡ˆéƒ½æ˜¯å¾ˆéš¾åšåˆ°çš„ã€‚
- é€‚ç”¨äºæœåŠ¡ç«¯æ•°æ®é¢‘ç¹æ›´æ–°çš„åœºæ™¯ï¼šå’Œé•¿è½®è¯¢ä¸åŒï¼ŒæœåŠ¡ç«¯å¯ä»¥éšæ—¶ç»™å®¢æˆ·ç«¯æ¨é€æ–°çš„ä¿¡æ¯ï¼Œè€Œå®¢æˆ·ç«¯åœ¨æ‹¿åˆ°ä¿¡æ¯åä¸éœ€è¦é‡æ–°å»ºç«‹è¿æ¥æˆ–è€…å‘é€è¯·æ±‚ï¼Œå› æ­¤WebSocketé€‚åˆäºæ•°æ®é¢‘ç¹æ›´æ–°çš„åœºæ™¯ã€‚

- ç¼ºç‚¹
- æ‰©å®¹éº»çƒ¦ï¼šåŸºäºWebSocketçš„æœåŠ¡æ˜¯æœ‰çŠ¶æ€çš„ã€‚è¿™å°±æ„å‘³ç€åœ¨æ‰©å®¹çš„æ—¶å€™å¾ˆéº»çƒ¦ï¼Œç³»ç»Ÿè®¾è®¡ä¹Ÿä¼šè¾ƒå¤æ‚ã€‚
- ä»£ç†é™åˆ¶ï¼šæŸäº›ä»£ç†å±‚è½¯ä»¶(å¦‚Nginx)é»˜è®¤é…ç½®çš„é•¿è¿æ¥æ—¶é—´æ˜¯æœ‰é™åˆ¶çš„ï¼Œå¯èƒ½åªæœ‰å‡ åç§’ï¼Œè¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯éœ€è¦è‡ªåŠ¨é‡è¿ã€‚è¦æƒ³çªç ´è¿™ä¸ªé™åˆ¶ä½ å°±éœ€è¦å°†ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ä¹‹é—´æ‰€æœ‰çš„ä»£ç†å±‚çš„é…ç½®éƒ½æ”¹æ‰ï¼Œåœ¨ç°å®ä¸­è¿™å¯èƒ½æ˜¯ä¸å¯è¡Œçš„ã€‚

- WebSocketçš„åº”ç”¨åœºæ™¯æ˜¯ä¸€äº›å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„è€Œä¸”éœ€è¦åŒå·¥é€šä¿¡çš„ç³»ç»Ÿä¾‹å¦‚IMè½¯ä»¶ç­‰ã€‚

### Server-Sent Events

- æ˜¯ä¸€ä¸ªåŸºäºHTTPåè®®çš„æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„æŠ€æœ¯
  - å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·ä¸€ä¸ªæŒä¹…åŒ–çš„HTTPè¿æ¥ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæŒ‚èµ·å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œæœ‰æ–°æ¶ˆæ¯æ—¶ï¼Œå†é€šè¿‡è¿™ä¸ªè¿æ¥å°†æ•°æ®æ¨é€ç»™å®¢æˆ·ç«¯ã€‚
  - æ¯æ¬¡å®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€è¯·æ±‚åï¼ŒæœåŠ¡ç«¯å…ˆç»™å®¢æˆ·ç«¯è¿”å›æ‰€æœ‰çš„ç°å­˜äº‹ä»¶ç„¶åå°†è¯¥è¯·æ±‚æŒ‚èµ·ï¼Œåœ¨æ–°çš„äº‹ä»¶ç”Ÿæˆæ—¶å†ç»™å®¢æˆ·ç«¯è¿”å›æ‰€æœ‰çš„æ–°äº‹ä»¶
- æ‰“å¼€Chromeçš„ç½‘ç»œè°ƒè¯•å·¥å…·ï¼Œä¼šå‘ç°HTTPè¯·æ±‚å˜æˆäº†EventStreamç±»å‹ï¼Œè€Œä¸”æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯æ‰€æœ‰çš„äº‹ä»¶æ¨é€éƒ½åœ¨è¿™ä¸ªè¿æ¥ä¸Šï¼Œè€Œæ— éœ€å»ºç«‹æ–°çš„è¿æ¥ã€‚

- ä¼˜ç‚¹
- è¿æ¥æ•°å°‘ï¼š å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åªæœ‰ä¸€ä¸ªæŒä¹…çš„HTTPè¿æ¥ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿæ˜¯å¾ˆå¥½çš„ã€‚
- æ•°æ®å®æ—¶æ€§é«˜: å®ƒæ¯”é•¿è½®è¯¢æ›´åŠ å®æ—¶ï¼Œå› ä¸ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„è¿æ¥æ˜¯æŒä¹…çš„ï¼Œæ‰€ä»¥æœ‰æ–°æ¶ˆæ¯çš„è¯å¯ä»¥ç›´æ¥æ¨é€åˆ°å®¢æˆ·ç«¯ã€‚

- ç¼ºç‚¹
- å•å‘é€šä¿¡: SSEé•¿è¿æ¥æ˜¯å•å‘çš„ï¼Œä¸å…è®¸å®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯æ¨é€æ•°æ®ã€‚
- ä»£ç†å±‚é™åˆ¶: å’ŒWebSocketä¸€æ ·ä¼šé‡åˆ°ä»£ç†å±‚é…ç½®çš„é—®é¢˜ï¼Œé…ç½®é”™è¯¯çš„è¯ï¼Œå®¢æˆ·ç«¯éœ€è¦ä¸æ–­å’ŒæœåŠ¡ç«¯è¿›è¡Œé‡è¿ã€‚

- SSEæŠ€æœ¯é€‚åˆä¸€äº›åªéœ€è¦æœåŠ¡ç«¯å•å‘æ¨é€äº‹ä»¶ç»™å®¢æˆ·ç«¯çš„åœºæ™¯ï¼Œä¾‹å¦‚è‚¡ç¥¨è¡Œæƒ…æ¨é€è½¯ä»¶ã€‚

## [è®ºä¸€ä¸ªä½é…ç‰ˆWebå®æ—¶é€šä¿¡åº“æ˜¯å¦‚ä½•å®ç°çš„ï¼ˆ EventSourceç¯‡) - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/77635294)

- simple-socketæ˜¯æˆ‘å†™çš„ä¸€ä¸ª"ä½é…ç‰ˆ"çš„Webå®æ—¶é€šä¿¡å·¥å…·ï¼ˆç›¸å¯¹äºSocket.ioï¼‰ï¼Œåœ¨å‚è€ƒäº†ç›¸å…³æºç å’Œèµ„æ–™çš„åŸºç¡€ä¸Šï¼Œå®ç°äº†å‰åç«¯å®æ—¶äº’é€šçš„åŸºæœ¬åŠŸèƒ½ï¼Œ
  - é€‰ç”¨äº†WebSocket ->server-sent-event -> AJAXè½®è¯¢è¿™ä¸‰ç§æ–¹å¼åšé™çº§å…¼å®¹ï¼Œ
  - åˆ†ä¸ºsimple-socket-clientå’Œsimple-socket-serverä¸¤å¥—ä»£ç ã€‚
  - https://github.com/penghuwan/simple-socket

## [JSå®æ—¶é€šä¿¡ä¸‰æŠŠæ–§ç³»åˆ—ä¹‹ä¸‰: eventsource - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/90626342)

- å‰ä¸¤ç¯‡æ–‡ç« åˆ†æäº†websocketå’Œhttp://socket.io
- eventsourceå…¶å®æ˜¯å•å‘é€šä¿¡ï¼Œè€Œwebsocketæ˜¯åŒå‘é€šä¿¡
  - SSEçš„ç®€å•æ¨¡å‹æ˜¯ï¼šä¸€ä¸ªå®¢æˆ·ç«¯å»ä»æœåŠ¡å™¨ç«¯è®¢é˜…ä¸€æ¡â€œæµâ€ï¼Œä¹‹åæœåŠ¡ç«¯å¯ä»¥å‘é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ç›´åˆ°æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯å…³é—­è¯¥â€œæµâ€ï¼Œæ‰€ä»¥eventsourceä¹Ÿå«ä½œ"server-sent-event"

- [EventSource - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/EventSource)
  - EventSource interface is web content's interface to server-sent events.
  - An EventSource instance opens a persistent connection to an HTTP server, which sends events in `text/event-stream` format. 
  - The connection remains open until closed by calling `EventSource.close()`.
# more
