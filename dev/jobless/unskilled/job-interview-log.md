---
title: job-interview-log
tags: [interview, job]
created: 2021-10-13T13:23:25.535Z
modified: 2021-10-13T13:25:26.289Z
---

# job-interview-log

# guide

- é¢è¯•çš„ç›®æ ‡
  - ä¸æ˜¯è¦æ‰¾ä¸€å®¶æœ€ç‰›çš„å…¬å¸ï¼Œè€Œæ˜¯è¦æ‰¾åˆ°ä¸€å®¶æœ€é€‚åˆè‡ªå·±çš„å…¬å¸ï¼Œæ—¢èƒ½è®©ä½ çš„ä¼˜åŠ¿å¾—åˆ°å……åˆ†å‘æŒ¥ï¼Œåˆèƒ½æ»¡è¶³ä½ çš„èŒä¸šè§„åˆ’
# self-intro
- é¢è¯•é—®é¢˜æŠ€å·§
  - æŠ€æœ¯ã€ä¸šåŠ¡ã€å›¢é˜Ÿ
  - STAR

- ä¸ªäººä¼˜ç‚¹
  - å¼€å‘æ¯”è¾ƒåŠ¡å®ï¼Œä¸šä½™æ—¶é—´ä¼šäº†è§£åŸç†ï¼Œå¼€å‘å·¥ä½œå¤§å¤šéƒ½èƒ½é«˜è´¨é‡å®Œæˆï¼Œä¸šç•Œéš¾ç‚¹éœ€è¦é¢å¤–çš„æ—¶é—´
  - å¯¹å„ç§ç¼–è¾‘å™¨å¼€å‘æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¹¶ä¸”æ„¿æ„æŒç»­æŠ•å…¥æ—¶é—´ç²¾åŠ›
  - èƒ½å¿«é€Ÿé€‚åº”å›¢é˜Ÿå¼€å‘æµç¨‹

- ä¸ªäººç¼ºç‚¹
  - èƒ½å†™ä»£ç ï¼Œä½†æ²¡æœ‰è‡ªå·±è®¤ä¸ºçš„é‚£æ ·èƒ½å†™ä»£ç ï¼Œé€Ÿåº¦å’Œæ•ˆç‡éƒ½æœ‰å¾…æé«˜ï¼Œç¼–è¾‘å™¨çš„otè½¬æ¢é€»è¾‘ä»æœ‰æŒ‘æˆ˜
  - å¯¹æ·±å…¥æŠ€æœ¯ä»æ¯”è¾ƒæ‰§ç€ï¼ŒèŠ±è´¹çš„ç²¾åŠ›è¾ƒå¤šï¼Œæ‰€ä»¥åœ¨äº§å“è®¾è®¡ã€éœ€æ±‚è¯„å®¡ã€éœ€æ±‚è°ƒæ•´ä¸ŠæŠ•å…¥çš„ç²¾åŠ›ç›¸å¯¹ä¸å¤šï¼Œç‰¹åˆ«æ˜¯äº‰è®ºè¦ä¸è¦åšã€éœ€æ±‚ä¼˜å…ˆçº§æ˜¯p0/p1/p2
  - åç«¯ã€è¿ç»´ã€k8sçš„å¼€å‘ç»éªŒä¸å¤š
  - å¯¹ä¸ç†Ÿæ‚‰çš„æŠ€æœ¯æœ‰ç‚¹ä¸è‡ªä¿¡ï¼Œä½†å¤šèŠ±ç‚¹æ—¶é—´ä¸€èˆ¬éƒ½èƒ½è§£å†³
  - ç®—æ³•é¢˜è¾ƒå¼±

- è‡ªæˆ‘ä»‹ç»
  - å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é‡‘ç‘¶ï¼Œä¸€ä¸ªå¯¹å¼€æºé¡¹ç›®å’Œç¼–è¾‘å™¨é¡¹ç›®éƒ½å¾ˆæ„Ÿå…´è¶£çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå†™è¿‡å¾ˆå¤šç©å…·demoï¼Œä¹Ÿå†™è¿‡ä¸€ç‚¹Nodejsçš„åç«¯ã€‚
  - æˆ‘æœ€é‡è¦çš„å·¥ä½œç»å†ä¹Ÿæ˜¯æœ€è¿‘çš„2ä»½å·¥ä½œï¼Œæˆ‘åˆšç¦»èŒçš„å·¥ä½œæ˜¯åœ¨å·²æœ‰çš„åœ¨çº¿é¢è¯•äº§å“çš„åŸºç¡€ä¸Šæ‰©å±•æ–°çš„äº‘ç«¯AI Codingçš„äº§å“ï¼Œä¹Ÿå°±æ˜¯Cursorçš„äº‘ç«¯ç‰ˆã€‚æˆ‘ä¸»è¦è´Ÿè´£å¼€å‘AIç›¸å…³çš„ä»£ç ç¼–è¾‘å™¨çš„æ’ä»¶ï¼Œä»¥åŠå¢å¼ºè‡ªç ”IDEçš„åŸºç¡€èƒ½åŠ›ã€‚å¦ä¸€ä»½é‡è¦çš„å·¥ä½œæ˜¯å¼€å‘AffineååŒåŠå…¬çš„äº§å“ï¼Œä¸»æ‰“æ–‡æ¡£ä¸ç”»æ¿å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œæˆ‘ä¸»è¦è´Ÿè´£æ–‡æ¡£å¯Œæ–‡æœ¬å…ƒç´ çš„æ¸²æŸ“åŠä¸»è¦ç¼–è¾‘äº¤äº’é€»è¾‘çš„å®ç°ã€‚
  - æˆ‘æœ€è¿‘å‡ ä»½å·¥ä½œéƒ½æ˜¯ç¼–è¾‘å™¨æˆ–IDEç›¸å…³çš„ï¼Œæˆ‘æœ¬èº«å¯¹è¿™ä¸ªä¸šåŠ¡æ–¹å‘ä¹Ÿå¾ˆæ„Ÿå…´è¶£ï¼Œæ­£å¥½å…¬å¸æœ‰ç›¸å…³çš„é¡¹ç›®ï¼Œå¸Œæœ›æœ‰æœºä¼šå¯ä»¥å‚ä¸ã€‚

- ğŸ¤” å‰ä¸¤æ®µå·¥ä½œç¦»èŒçš„åŸå› æ˜¯ä»€ä¹ˆ
  - 22å¹´affineæ˜¯äº§å“æ–¹å‘å˜åŠ¨è€Œè£å‘˜
  - 25å¹´è‡³ç®€å¤©æˆæ˜¯ç›ˆåˆ©å›°éš¾è€Œè£å‘˜ï¼Œä¸ºä»€ä¹ˆè£æˆ‘ï¼Œideå¼€å‘é‡ç‚¹è½¬å‘å¼‚æ­¥ï¼Œç¼–è¾‘å™¨æ’ä»¶ä¼šç›¸äº’å½±å“ï¼Œæ·»åŠ åŠŸèƒ½æ—¶ç»å¸¸ç ´åå·²æœ‰åŠŸèƒ½ï¼Œæ˜¾å¾—æˆ‘çš„æ•ˆç‡ä½
  - ğŸ¤¼ ä¸åŒè€æ¿å¯¹äº§å“çš„ç†è§£å’Œè¦æ±‚ä¸åŒï¼Œå‰ç«¯å¾ˆå¤šæ—¶å€™éƒ½æ˜¯å¤Ÿç”¨å°±å¥½ï¼Œäº§å“éœ€æ±‚ä¸€ç›´è·Ÿéšå¸‚åœºéœ€æ±‚åœ¨è°ƒæ•´
# 20250717-æµ·é“æ•™è‚²/xbody-äºŒé¢/boss
- aiäº§å“ç«äº‰æ¿€çƒˆçš„è§£å†³æ–¹æ³•
  - é€šè¿‡äº§å“åŠ›ã€äº§å“ç‰¹è‰²å»ºç«‹å…ˆå‘ä¼˜åŠ¿

- æœ‰å…¶ä»–æ„å‘å…¬å¸å—

- æœ‰æ²¡æœ‰æ¯”è¾ƒæ„‰å¿«çš„å·¥ä½œç»å†
  - å±…ç„¶å›ç­”äº†æ²¡æœ‰
  - å®é™…çš„å·¥ä½œä½“éªŒæ²¡æƒ³çš„é‚£ä¹ˆé‡è¦ï¼Œæˆ‘åœ¨å·¥ä½œæ—¶æœ€é‡è§†çš„æ˜¯å®Œæˆä¸šåŠ¡å¼€å‘çš„åŒæ—¶ç§¯ç´¯æŠ€æœ¯ï¼Œæ–°å·¥ä½œæ­£å¥½æœ‰è¿™æ–¹é¢çš„æœºä¼š

- [Jenni AI](https://jenni.ai/)
  - Intelligent Research Assistant: The AI-powered workspace to help you read, write, and organize research with ease.
# 20250716-æµ·é“æ•™è‚²/xbody-ä¸€é¢/æŠ€æœ¯
- æŠ€æœ¯é—®é¢˜
  - ä¸ºä»€ä¹ˆç”¨slateåŠæ•°æ®æ¨¡å‹çš„ç»“æ„
  - ç¼–è¾‘å™¨æ¡†æ¶å¦‚prosemirrorçš„æ¸²æŸ“åŸç†
  - åŠ¨ç”»ç¼–è¾‘å™¨ã€è§†é¢‘ç¼–è¾‘å™¨çš„äº†è§£ï¼Œå¯¹ç›´æ’­å®ç°æ˜¯å¦äº†è§£

- å¾…æ”¹è¿›
- è‡ªæˆ‘ä»‹ç»

- ä½ åœ¨affineååŒç¼–è¾‘äº§å“ä¸­çš„å·¥ä½œå†…å®¹ï¼Œç¢°åˆ°çš„å›°éš¾æ˜¯å¦‚ä½•è§£å†³çš„
  - æˆ‘åœ¨affineå®ç°äº†å—ç¼–è¾‘å™¨çš„å¯Œæ–‡æœ¬å…ƒç´ çš„æ¸²æŸ“ã€slashæ–œæ èœå•ã€æ–‡æ¡£è¯„è®ºã€æ–‡æ¡£è·¯ç”±åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚
  - ç¢°åˆ°çš„å›°éš¾å°è±¡è¾ƒæ·±çš„æ˜¯å‰ç«¯æ¶æ„ç›¸å…³çš„ï¼Œç¼–è¾‘å™¨çŠ¶æ€å¦‚ä½•ä¸å¤–éƒ¨ç»„ä»¶é€šä¿¡ï¼Œæ¯”å¦‚å®ç°æ–‡æ¡£è¯„è®ºåŠŸèƒ½æ—¶ï¼Œè¯„è®ºåˆ—è¡¨æ˜¯åœ¨ä¾§è¾¹æ ï¼Œæ˜¯å¦è¦ä½œä¸ºç¼–è¾‘å™¨æ’ä»¶å®ç°ï¼Œä»¥åŠå¦‚ä½•å®ç°åœ¨é€‰æ‹©æ–‡æœ¬æ—¶çªå‡ºä¾§è¾¹æ çš„è¯„è®ºï¼Œå¯ä»¥å°†äº‹ä»¶åŠ åœ¨æ¸²æŸ“çš„æ–‡æœ¬ä¸Šï¼Œä¹Ÿå¯ä»¥æ ¹æ®ç¼–è¾‘å™¨çš„é€‰åŒºå˜åŒ–æ¥ç¡®å®šè¯„è®ºä½ç½®ã€‚
  - å—ç¼–è¾‘å™¨è‡ªèº«å¦‚ä½•è®¾è®¡å—ç»“æ„ã€æ‰©å±•å—è‡³ä»Šä»æ˜¯éš¾é¢˜ã€‚
  - affineå®ç°çš„ç¼–è¾‘å™¨åœ¨åæ¥æ˜¯è‡ªç ”æ¶æ„ï¼Œæˆ‘ä¸€ç›´åœ¨å…³æ³¨æœ‰æ‰€äº†è§£ä½†ä¸æ·±å…¥ï¼ŒåŒ…æ‹¬åˆ†ä¸ºä¸šåŠ¡å±‚/blocksuiteç¼–è¾‘å±‚/yrsåä½œå±‚ï¼Œåœ¨2024å¹´12æœˆå¼€å§‹å»æ‰blocksuiteç¼–è¾‘å±‚ï¼Œä¸æ¸…æ¥šæ˜¯å¦é‡æ„å®Œæˆã€‚

- ä½ çš„ç¼–è¾‘å™¨æˆ–äº§å“ï¼Œç›¸å¯¹äºé£ä¹¦æœ‰ä»€ä¹ˆç«äº‰åŠ›
  - æŠ€æœ¯ä¸Šï¼Œç¼–è¾‘å™¨å†…æä¾›å¤šç»´è¡¨æ ¼blockï¼Œå®ç°ç®€å•ä¸”å‰ç«¯å‹å¥½ï¼Œæ˜“ç»´æŠ¤ï¼Œæ˜“å®šåˆ¶ï¼Œå¯è‡ªå®šä¹‰å­—æ®µ
  - äº§å“ç‰¹è‰²ä¸»æ‰“ local-first, æ–¹ä¾¿ç§æœ‰åŒ–éƒ¨ç½²ï¼Œæ•°æ®å¯å¯¼å‡ºï¼Œäº¤äº’ä½“éªŒä¼šæ›´å¿«
  - ç¼–è¾‘å™¨æ˜¯éå¸¸é€šç”¨çš„åŸºç¡€è®¾æ–½ï¼Œå¯ç”¨äºæ›´å¤šåœºæ™¯

- aiä¸æ–‡æ¡£ç»“åˆçš„åœºæ™¯åœ¨ä¸šå†…æœ‰ä»€ä¹ˆäº§å“åˆ›æ„
  - ç”Ÿäº§æ–‡æœ¬ã€å›¾ç‰‡
  - ask
  - é›†æˆæ•°æ®æº

- ä¸ºä»€ä¹ˆæƒ³åŠ å…¥æ–°äº§å“
  - å¾ˆå¤§ç¨‹åº¦æ˜¯å› ä¸ºè¿æ°”ï¼Œç¢°åˆ°äº†æˆ‘å¾ˆæ„Ÿå…´è¶£çš„å·¥ä½œå†…å®¹

- ä½ æœ‰ä»€ä¹ˆæƒ³é—®çš„
  - æ–°äº§å“çš„æ ¸å¿ƒå½¢æ€ã€ç”¨æˆ·ä¸»è¦æ—…ç¨‹ï¼Œç›¸å…³äº§å“è®¾è®¡ã€éœ€æ±‚äº¤äº’ç›¸å…³çš„ï¼Œå›¢é˜Ÿæ˜¯å¦æœ‰ä¼šè®®è®¨è®ºï¼Œç°åœ¨è¿›å±•å¦‚ä½•ï¼Œæˆ‘ä½œä¸ºå¼€å‘å·¥ç¨‹å¸ˆè¿™æ–¹é¢ä¹Ÿä¸æ˜¯å¾ˆæ“…é•¿
    - ä»æŠ€æœ¯å¼€å‘çš„è§’åº¦ï¼Œå‰ç«¯çš„æ ¸å¿ƒæ¶æ„æ˜¯ä»¥æ–‡æœ¬ç¼–è¾‘å™¨ä¸ºä¸»è¿˜æ˜¯ç”»å¸ƒä¸ºä¸»ï¼Œæˆ‘çš„åˆ¤æ–­ä¸å‡†ç¡®ï¼Œå¯èƒ½æ˜¯ç”»å¸ƒ
    - æ–°äº§å“çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¯¹å…¸å‹çš„å¤šäººååŒç¼–è¾‘æ˜¯å¦æœ‰éœ€æ±‚ï¼Œå› ä¸ºè¿™ä¸€å—æŠ€æœ¯å¤æ‚åº¦é«˜ï¼Œä»£ç å¾ˆå®¹æ˜“å‡ºbugï¼Œå¼€å‘å’Œç»´æŠ¤æˆæœ¬éƒ½å¾ˆé«˜
  - é¢å‘ä¸ªäººçš„toC aiäº§å“ çš„å¸‚åœºç«äº‰æ¿€çƒˆï¼Œæœ‰è€ƒè™‘è¿‡è·å®¢æ–¹å¼å—ï¼Œä¼šå’Œæµ·é“æ•™è‚²åˆä½œå—
  - æˆ‘å¯¹è‡ªå·±çš„è¯„ä»·ï¼Œæœ‰ä¸€äº›ç¼ºç‚¹å‘¢ï¼Œçœ‹å›¢é˜Ÿæ˜¯å¦æ¥å—
  - è€æ¿æ˜¯å¦ç„¦è™‘
# 202404-showmebug-ä¸€é¢
- äºŒå‰æ ‘çš„æ„é€  + ä¸­åºéå†
# 20211015-å¢¨åˆ€-ä¸€é¢/äºŒé¢
- å¢¨åˆ€äº§å“ç³»åˆ—
  - æ€ç»´å¯¼å›¾ã€è„‘å›¾
  - æµç¨‹å›¾
  - åŸå‹è®¾è®¡

- è„‘å›¾æ•°æ®ç»“æ„è®¾è®¡
  - æ€è·¯ï¼šæ ‘ã€sibling

- æµç¨‹å›¾å¶å­èŠ‚ç‚¹å¢å¤šæ—¶ï¼ŒåŠ¨æ€è°ƒæ•´å¸ƒå±€çš„æ–¹æ³•
  - æ€è·¯ï¼šæ·±åº¦ä¼˜å…ˆè®¡ç®—é«˜åº¦ã€ç¡®å®šä½ç½®

- æ–‡ä»¶ç®¡ç†å™¨
  - æ–‡ä»¶å±‚æ•°ç‰¹åˆ«å¤š - åŠ¨æ€è¯·æ±‚
  - æ–‡ä»¶æ•°é‡ç‰¹åˆ«å¤š - è™šæ‹Ÿæ»šåŠ¨

- äºŒé¢ä¸»è¦å›´ç»•äº§å“
  - åŸå‹è®¾è®¡åŸºäº dom
  - æ–°äº§å“ æµç¨‹å›¾ã€è„‘å›¾åŸºäºcanvas

## mipmap

- åœ¨ä¸‰ç»´è®¡ç®—æœºå›¾å½¢çš„è´´å›¾æ¸²æŸ“ä¸­æœ‰ä¸€ä¸ªå¸¸ç”¨çš„æŠ€æœ¯è¢«ç§°ä¸ºMipmappingã€‚
- ä¸ºäº†åŠ å¿«æ¸²æŸ“é€Ÿåº¦å’Œå‡å°‘å›¾åƒé”¯é½¿ï¼Œè´´å›¾è¢«å¤„ç†æˆç”±ä¸€ç³»åˆ—è¢«é¢„å…ˆè®¡ç®—å’Œä¼˜åŒ–è¿‡çš„å›¾ç‰‡ç»„æˆçš„æ–‡ä»¶, è¿™æ ·çš„è´´å›¾è¢«ç§°ä¸º MIP map æˆ–è€… mipmapã€‚

- Mipmapä¸­æ¯ä¸€ä¸ªå±‚çº§çš„å°å›¾éƒ½æ˜¯ä¸»å›¾çš„ä¸€ä¸ªç‰¹å®šæ¯”ä¾‹çš„ç¼©å°ç»†èŠ‚çš„å¤åˆ¶å“ã€‚
  - è™½ç„¶åœ¨æŸäº›å¿…è¦çš„è§†è§’ï¼Œä¸»å›¾ä»ç„¶ä¼šè¢«ä½¿ç”¨ï¼Œæ¥æ¸²æŸ“å®Œæ•´çš„ç»†èŠ‚ã€‚
  - ä½†æ˜¯å½“è´´å›¾è¢«ç¼©å°æˆ–è€…åªéœ€è¦ä»è¿œè·ç¦»è§‚çœ‹æ—¶ï¼Œmipmapå°±ä¼šè½¬æ¢åˆ°é€‚å½“çš„å±‚çº§ã€‚

- å› ä¸ºmipmapçš„å›¾ç‰‡å·²ç»æ˜¯åšè¿‡æŠ—é”¯é½¿å¤„ç†çš„ï¼Œä»è€Œå‡å°‘äº†å®æ—¶æ¸²æŸ“çš„è´Ÿæ‹…ã€‚æ”¾å¤§å’Œç¼©å°ä¹Ÿå› ä¸ºmipmapè€Œå˜å¾—æ›´æœ‰æ•ˆç‡ã€‚
# 20211015-æŠ•å…‰ç¼–è¾‘å™¨-ä¸‰é¢
- ot vs crdt

- çº¿æ€§ä»£æ•°
# 20211014-æŠ•å…‰ç¼–è¾‘å™¨-äºŒé¢
- To define a type guard, we simply need to define a function whose return type is a type predicate

```typescript
function isFish(pet: Fish | Bird): pet is Fish {
  return (pet as Fish).swim !== undefined;
}
```

# 20211013-æŠ•å…‰ç¼–è¾‘å™¨-ä¸€é¢

> é¢è¯•å®˜ï¼šé›ªç¢§

## ä¸¤æ•°ä¹‹å’Œ

```JS
function twoSum(nums, target) {
  const map = {};

  for (let i = 0; i < nums.length; i++) {
    const curr = target - nums[i];
    if (map[curr] !== undefined) return [i, map[curr]];

    map[nums[i]] = i;

  }
}
```

## è¶…é•¿æ–‡æ¡£ã€è¶…å®½ç”»å¸ƒï¼Œå¦‚ä½•ä¼˜åŒ–æ€§èƒ½

- æ–‡æ¡£å¯å…ˆåˆ†é¡µã€å†åˆ©ç”¨virtualizedåªæ¸²æŸ“å¯è§åŒºéƒ¨åˆ†

- å±€éƒ¨/åˆ†å±‚æ¸²æŸ“ï¼ˆåªæ¸²æŸ“å½“å‰è§†å›¾çš„å†…å®¹ï¼Œæˆ–æŒ‰ç…§ä¸»æ¬¡å¼‚æ­¥æ¸²æŸ“ä¸åŒå›¾å±‚ï¼‰ï¼Œ
- ç¦»å±æ¸²æŸ“/åŒç¼“å†²ï¼ˆæå‰å®Œæˆä¸‹ä¸€å¸§è®¡ç®—ï¼Œå¹¶åŠ å…¥åˆ°ç¼“å†²æ± ä¸­ï¼‰

## ç»™ä½ å¾ˆå¤šåæ ‡ç‚¹ï¼Œæ€ä¹ˆæŸ¥æ‰¾ä¸€ä¸ªç‚¹é™„è¿‘çš„poiå…ƒç´ 

- æ€è·¯1ï¼šgeohash
- æ€è·¯2ï¼šåŸºäºç°æœ‰æ•°æ®åº“çš„spatial sqlè¯­å¥
- æ€è·¯3ï¼šåŸºäºæˆç†Ÿäº§å“ï¼Œå¦‚es

### [è°ˆè°ˆä½ å¯¹ geohash çš„ç†è§£å’Œå¦‚ä½•å®ç°é™„è¿‘äººåŠŸèƒ½å‘¢ï¼Ÿ](https://xie.infoq.cn/article/ed42f43b93e724321b292a6b8)

- geohash å°±æ˜¯ä¸€ç§åœ°ç†ä½ç½®ç¼–ç ã€‚
  - é€šè¿‡å°†åœ°çƒçœ‹æˆä¸€ä¸ªäºŒç»´çš„å¹³é¢å›¾ï¼Œç„¶åå°†å¹³é¢é€’å½’åˆ‡åˆ†æˆæ›´å°çš„æ¨¡å—ï¼Œç„¶åå°†ç©ºé—´ç»çº¬åº¦æ•°æ®è¿›è¡Œç¼–ç ç”Ÿæˆä¸€ä¸ªäºŒè¿›åˆ¶çš„å­—ç¬¦ä¸²ï¼Œå†é€šè¿‡ base32 å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æœ€ç»ˆæ˜¯é€šè¿‡æ¯”è¾ƒgeohashçš„å€¼çš„ç›¸ä¼¼ç¨‹åº¦æŸ¥è¯¢é™„è¿‘ç›®æ ‡å…ƒç´ ã€‚
- åˆ©ç”¨é€’å½’æ€æƒ³ æ‰¾å‡ºç»çº¬åº¦çš„äºŒè¿›åˆ¶ç¼–ç 
- å¶æ•°ä½æ”¾ç»åº¦ï¼Œå¥‡æ•°ä½æ”¾çº¬åº¦
- åœ¨base32ç¼–ç 

- Geohash å®æˆ˜ç³»åˆ— é™„è¿‘äººæŸ¥è¯¢
  - select * from `user` where `geohash` like 'geohash%' order by id asc limit 100

### [GeoHashæ ¸å¿ƒåŸç†è§£æ](https://www.cnblogs.com/LBSer/p/3310455.html)

- ä¸€æåˆ°ç´¢å¼•ï¼Œå¤§å®¶è„‘å­é‡Œé©¬ä¸Šæµ®ç°å‡ºBæ ‘ç´¢å¼•ï¼Œå› ä¸ºå¤§é‡çš„æ•°æ®åº“ï¼ˆå¦‚MySQLã€oracleã€PostgreSQLç­‰ï¼‰éƒ½åœ¨ä½¿ç”¨Bæ ‘ã€‚
  - Bæ ‘ç´¢å¼•æœ¬è´¨ä¸Šæ˜¯å¯¹ç´¢å¼•å­—æ®µè¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡ç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾ï¼Œå³å®ƒè¦æ±‚ç´¢å¼•çš„å­—æ®µæ˜¯å¯æ’åºçš„ã€‚
  - ä½†æ˜¯å¯¹äºç©ºé—´ä¸Šçš„ä¸€ä¸ªç‚¹ï¼ˆäºŒç»´ï¼ŒåŒ…æ‹¬ç»åº¦å’Œçº¬åº¦ï¼‰ï¼Œå¦‚ä½•æ’åºå‘¢ï¼Ÿåˆå¦‚ä½•ç´¢å¼•å‘¢ï¼Ÿè§£å†³çš„æ–¹æ³•å¾ˆå¤šï¼Œä¸‹æ–‡ä»‹ç»ä¸€ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚

- GeoHashå°†äºŒç»´çš„ç»çº¬åº¦è½¬æ¢æˆå­—ç¬¦ä¸², 
  - ä¸‹å›¾å±•ç¤ºäº†åŒ—äº¬9ä¸ªåŒºåŸŸçš„GeoHashå­—ç¬¦ä¸²ï¼Œåˆ†åˆ«æ˜¯WX4ERï¼ŒWX4G2ã€WX4G3ç­‰ç­‰ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦ä¸²ä»£è¡¨äº†æŸä¸€çŸ©å½¢åŒºåŸŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªçŸ©å½¢åŒºåŸŸå†…æ‰€æœ‰çš„ç‚¹ï¼ˆç»çº¬åº¦åæ ‡ï¼‰éƒ½å…±äº«ç›¸åŒçš„GeoHashå­—ç¬¦ä¸²
  - è¿™æ ·æ—¢å¯ä»¥ä¿æŠ¤éšç§ï¼ˆåªè¡¨ç¤ºå¤§æ¦‚åŒºåŸŸä½ç½®è€Œä¸æ˜¯å…·ä½“çš„ç‚¹ï¼‰ï¼Œåˆæ¯”è¾ƒå®¹æ˜“åšç¼“å­˜
- å­—ç¬¦ä¸²è¶Šé•¿ï¼Œè¡¨ç¤ºçš„èŒƒå›´è¶Šç²¾ç¡®ã€‚ 
- å­—ç¬¦ä¸²ç›¸ä¼¼çš„è¡¨ç¤ºè·ç¦»ç›¸è¿‘ï¼Œè¿™æ ·å¯ä»¥åˆ©ç”¨å­—ç¬¦ä¸²çš„å‰ç¼€åŒ¹é…æ¥æŸ¥è¯¢é™„è¿‘çš„POIä¿¡æ¯ã€‚

- GeoHashç®—æ³•çš„æ­¥éª¤
  - æ ¹æ®ç»çº¬åº¦è®¡ç®—GeoHashäºŒè¿›åˆ¶ç¼–ç 
  - åœ°çƒçº¬åº¦åŒºé—´æ˜¯[-90, 90]ï¼Œ åŒ—æµ·å…¬å›­çš„çº¬åº¦æ˜¯39.92816
  - åŒºé—´[-90, 90]è¿›è¡ŒäºŒåˆ†ä¸º[-90, 0), [0, 90]ï¼Œç§°ä¸ºå·¦å³åŒºé—´ï¼Œå¯ä»¥ç¡®å®š39.928167å±äºå³åŒºé—´[0, 90]ï¼Œç»™æ ‡è®°ä¸º1ï¼›
  - æ¥ç€å°†åŒºé—´[0, 90]è¿›è¡ŒäºŒåˆ†ä¸º [0, 45), [45, 90]ï¼Œå¯ä»¥ç¡®å®š39.928167å±äºå·¦åŒºé—´ [0, 45)ï¼Œç»™æ ‡è®°ä¸º0ï¼›
  - é€’å½’ä¸Šè¿°è¿‡ç¨‹39.928167æ€»æ˜¯å±äºæŸä¸ªåŒºé—´[a, b]ã€‚éšç€æ¯æ¬¡è¿­ä»£åŒºé—´[a, b]æ€»åœ¨ç¼©å°ï¼Œå¹¶è¶Šæ¥è¶Šé€¼è¿‘39.928167ï¼›
- å¦‚æœç»™å®šçš„çº¬åº¦xï¼ˆ39.928167ï¼‰å±äºå·¦åŒºé—´ï¼Œåˆ™è®°å½•0ï¼Œå¦‚æœå±äºå³åŒºé—´åˆ™è®°å½•1ï¼Œè¿™æ ·éšç€ç®—æ³•çš„è¿›è¡Œä¼šäº§ç”Ÿä¸€ä¸ªåºåˆ—1011100ï¼Œåºåˆ—çš„é•¿åº¦è·Ÿç»™å®šçš„åŒºé—´åˆ’åˆ†æ¬¡æ•°æœ‰å…³ã€‚
- é€šè¿‡ä¸Šè¿°è®¡ç®—ï¼Œçº¬åº¦äº§ç”Ÿçš„ç¼–ç ä¸º10111 00011ï¼Œç»åº¦äº§ç”Ÿçš„ç¼–ç ä¸º11010 01011ã€‚å¶æ•°ä½æ”¾ç»åº¦ï¼Œå¥‡æ•°ä½æ”¾çº¬åº¦ï¼ŒæŠŠ2ä¸²ç¼–ç ç»„åˆç”Ÿæˆæ–°ä¸²
- æœ€åä½¿ç”¨ç”¨0-9ã€b-zï¼ˆå»æ‰a, i, l, oï¼‰è¿™32ä¸ªå­—æ¯è¿›è¡Œbase32ç¼–ç (æ¯5ä½å¤„ç†ä¸€æ¬¡)ï¼Œé¦–å…ˆå°†11100 11101 00100 01111è½¬æˆåè¿›åˆ¶ï¼Œå¯¹åº”ç€28ã€29ã€4ã€15ï¼Œåè¿›åˆ¶å¯¹åº”çš„ç¼–ç å°±æ˜¯wx4g

- åŒç†ï¼Œå°†ç¼–ç è½¬æ¢æˆç»çº¬åº¦çš„è§£ç ç®—æ³•ä¸ä¹‹ç›¸å

- GeoHash Base32ç¼–ç é•¿åº¦ä¸ç²¾åº¦
  - å½“geohash base32ç¼–ç é•¿åº¦ä¸º8æ—¶ï¼Œç²¾åº¦åœ¨19ç±³å·¦å³ï¼Œ
  - è€Œå½“ç¼–ç é•¿åº¦ä¸º9æ—¶ï¼Œç²¾åº¦åœ¨2~4ç±³å·¦å³

- ä¸ºä»€ä¹ˆåˆ†åˆ«ç»™ç»åº¦å’Œç»´åº¦ç¼–ç ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å°†ç»çº¬åº¦ä¸¤ä¸²ç¼–ç äº¤å‰ç»„åˆæˆä¸€ä¸²ç¼–ç ï¼Ÿ
  - æˆ‘ä»¬å°†äºŒè¿›åˆ¶ç¼–ç çš„ç»“æœå¡«å†™åˆ°ç©ºé—´ä¸­ï¼Œå½“å°†ç©ºé—´åˆ’åˆ†ä¸ºå››å—æ—¶å€™ï¼Œç¼–ç çš„é¡ºåºåˆ†åˆ«æ˜¯å·¦ä¸‹è§’00ï¼Œå·¦ä¸Šè§’01ï¼Œå³ä¸‹è„š10ï¼Œå³ä¸Šè§’11ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼äºZçš„æ›²çº¿ï¼Œå½“æˆ‘ä»¬é€’å½’çš„å°†å„ä¸ªå—åˆ†è§£æˆæ›´å°çš„å­å—æ—¶ï¼Œç¼–ç çš„é¡ºåºæ˜¯è‡ªç›¸ä¼¼çš„ï¼ˆåˆ†å½¢ï¼‰ï¼Œæ¯ä¸€ä¸ªå­å¿«ä¹Ÿå½¢æˆ`Zæ›²çº¿`ï¼Œè¿™ç§ç±»å‹çš„æ›²çº¿è¢«ç§°ä¸º`Peanoç©ºé—´å¡«å……æ›²çº¿`ã€‚
  - è¿™ç§ç±»å‹çš„ç©ºé—´å¡«å……æ›²çº¿çš„ä¼˜ç‚¹æ˜¯å°†äºŒç»´ç©ºé—´è½¬æ¢æˆä¸€ç»´æ›²çº¿ï¼ˆäº‹å®ä¸Šæ˜¯åˆ†å½¢ç»´ï¼‰ï¼Œå¯¹å¤§éƒ¨åˆ†è€Œè¨€ï¼Œç¼–ç ç›¸ä¼¼çš„è·ç¦»ä¹Ÿç›¸è¿‘ï¼Œ ä½†Peanoç©ºé—´å¡«å……æ›²çº¿æœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯çªå˜æ€§ï¼Œæœ‰äº›ç¼–ç ç›¸é‚»ä½†è·ç¦»å´ç›¸å·®å¾ˆè¿œï¼Œæ¯”å¦‚0111ä¸1000ï¼Œç¼–ç æ˜¯ç›¸é‚»çš„ï¼Œä½†è·ç¦»ç›¸å·®å¾ˆå¤§ã€‚

- é™¤Peanoç©ºé—´å¡«å……æ›²çº¿å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šç©ºé—´å¡«å……æ›²çº¿ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå…¶ä¸­æ•ˆæœå…¬è®¤è¾ƒå¥½æ˜¯`Hilbertç©ºé—´å¡«å……æ›²çº¿`ï¼Œç›¸è¾ƒäºPeanoæ›²çº¿è€Œè¨€ï¼ŒHilbertæ›²çº¿æ²¡æœ‰è¾ƒå¤§çš„çªå˜ã€‚
  - ä¸ºä»€ä¹ˆGeoHashä¸é€‰æ‹©Hilbertç©ºé—´å¡«å……æ›²çº¿å‘¢ï¼Ÿå¯èƒ½æ˜¯Peanoæ›²çº¿æ€è·¯ä»¥åŠè®¡ç®—ä¸Šæ¯”è¾ƒç®€å•å§ï¼Œäº‹å®ä¸Šï¼ŒPeanoæ›²çº¿å°±æ˜¯ä¸€ç§å››å‰æ ‘çº¿æ€§ç¼–ç æ–¹å¼ã€‚

- è§£å†³geohashå­—ç¬¦ä¸²å‰ç¼€ç›¸åŒä½†å¯èƒ½å­˜åœ¨çªå˜çš„é—®é¢˜
  - æˆ‘ä»¬æŸ¥è¯¢æ—¶ï¼Œé™¤äº†ä½¿ç”¨å®šä½ç‚¹çš„GeoHashç¼–ç è¿›è¡ŒåŒ¹é…å¤–ï¼Œè¿˜ä½¿ç”¨å‘¨å›´8ä¸ªåŒºåŸŸçš„GeoHashç¼–ç ï¼Œè¿™æ ·å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚
  - geohashåªæ˜¯ç©ºé—´ç´¢å¼•çš„ä¸€ç§æ–¹å¼ï¼Œç‰¹åˆ«é€‚åˆç‚¹æ•°æ®ï¼Œè€Œå¯¹çº¿ã€é¢æ•°æ®é‡‡ç”¨Ræ ‘ç´¢å¼•æ›´æœ‰ä¼˜åŠ¿

- æˆç†Ÿæ–¹æ¡ˆ
- kdbush
  - A very fast static spatial index for 2D points based on a flat KD-tree. 
  - Compared to RBush:
    - points only â€” no rectangles
    - static â€” you can't add/remove items
    - indexing is 5-8 times faster

```JS
const index = new KDBush(points); // make an index
const ids1 = index.range(10, 10, 20, 20); // bbox search - minX, minY, maxX, maxY
const ids2 = index.within(10, 10, 5); // radius search - x, y, radius
```

## ä¸ºä»€ä¹ˆåœ¨mapä¸­æŸ¥æ‰¾keyæ¯”åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ æ›´å¿«ï¼Ÿ

- å¯ä»¥åˆ†æhashtableçš„ä¸€ç§å®ç°
  - åœ¨hashtableæ•°æ®ç»“æ„ä¸­ï¼Œå¯ä»¥ç”¨ æ•°ç»„+é“¾è¡¨ æˆ– äºŒç»´æ•°ç»„ ä¿å­˜kvé”®å€¼å¯¹
  - æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ åˆ°mapæ—¶ï¼Œè°ƒç”¨ä¸€ä¸ªæ•£åˆ—å‡½æ•°hash(key)å¾—åˆ°å“ˆå¸Œå€¼ï¼Œé€šè¿‡å–æ¨¡ç­‰è¿ç®—å¯å¾—åˆ°åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œ
  - ç„¶åè‹¥ä½ç½®ä¸ä¸ºç©ºï¼Œå°±å¯ä»¥å°†æ–°å…ƒç´ æ·»åŠ åˆ°è¯¥ä½ç½®é“¾è¡¨çš„æœ«å°¾æˆ–æ•°ç»„æœ«å°¾

- mapæ¯”æ•°ç»„å¿«å› ä¸ºä¸ç”¨é€ä¸ªå…¨éƒ¨æŸ¥æ‰¾ï¼Œç‰¹åˆ«æ—¶å½“mapåˆå§‹ç©ºé—´å¤Ÿå¤§æ—¶ï¼Œhash(key)èƒ½ç›´æ¥æ‰¾åˆ°å…ƒç´ çš„ä½ç½®
  - ä½†mapçš„æ—¶é—´å¤æ‚åº¦å¹¶ä¸ä¸€å®šæ˜¯O(1)ï¼Œå“ˆå¸Œå†²çªçš„æ¦‚ç‡ P collision = n / capacity

- [Why are maps faster than arrays?](https://itqna.net/questions/1560/why-are-maps-faster-arrays)
- Javascript map is implemented using a hash table, which is a data structure specially designed for element to be fast. 
  - Generally, the number of operations required is constant or logarithmic in the number of elements, rather than being directly proportional.

- The idea is that the `indexOf` method will scroll each element of the array by checking if the value matches, in which case the cost of that function is `O(N)` ; 
  - You can check here in the V8 code, that the search is always incremental.
- for Hash, the key is mapped to the value, 
  - that is, when doing the search what happens is that the search value is transformed into an index (using a function) that is used to fetch the value. 
  - Therefore the cost of accessing the value of a hash is `O(1)`.

- HashTable is usually much slower than HashMap because it does much the same thing but is also synchronized.

- [java simple hash table example](https://www.algolist.net/Data_structures/Hash_table/Simple_example)

## typescript discriminated unions

```typescript
interface Square { 
  kind: "square";
  size: number; 
  }
  
interface Rectangle {
  kind: "rectangle";
  width: number;
  height: number; 
  } 
  
type Shape = Square | Rectangle;

function area(s: Shape) {
    if (s.kind === "square") {
        // Now TypeScript *knows* that `s` must be a square ;)
        // So you can use its members safely :)
        return s.size * s.size;
    }
    else {
        // Wasn't a square? So TypeScript will figure out that it must be a Rectangle ;)
        // So you can use its members safely :)
        return s.width * s.height;
    }
}
```
