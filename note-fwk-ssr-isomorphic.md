---
title: note-fwk-ssr-isomorphic
tags: [framework, isomorphic, server-side-rendering, ssr]
created: '2020-12-19T13:02:19.041Z'
modified: '2020-12-19T13:05:23.294Z'
---

# note-fwk-ssr-isomorphic

## guide

- ssr的优点
  - seo搜索引擎优化
    - 更多针对toC消费者业务，对企业管理系统没必要做seo
    - 现在的互联网应用是信息孤岛的趋势，微信公众号的文章内容不让百度收录
    - 可以使用nodejs的puppeteer对我们SPA应用进行爬取，然后渲染出html给爬虫去爬。
      - 这里前面要判断下是否是爬虫，如果是爬虫就走puppeteer渲染的服务器，如果是用户就直接走单页就好了。
  - 加快首屏显示
    - 使用代码拆分和动态(懒)加载也能实现
  - 使用同构渲染，一套代码可以运行在服务端和客户端

- 单页应用不太有助于SEO的实现，近年业界针对此问题提供了两种解决方案：服务器端渲染（SSR）和静态站点生成（SSG）。
  - 使用SSR，我们可以在服务器上运行应用程序，它创建由前端获取的HTML。
  - 而使用SSG，我们可以在构建时创建应用程序的所有页面，由此，存储在服务器上的文件是静态的，并像标准的非SPA应用程序一样由浏览器获取。
  - SSR的最大问题是，在服务器上构建应用程序会占用大量资源，而且速度可能很慢，因此会增加页面加载时间；
    - 而且，每个小的更改都需要重新构建和创建所有应用程序页面。
    - 如果应用程序有很多页面，则该过程很慢且成本很高。
  - 现在看来，SSG赢了，SSR（几乎）死了。
    - Next.js是一个流行的全栈框架，将SSG设置为默认框架，并添加了增量构建，以缓解每次更改后重新构建所有页面的问题。
  - 此外，像Gatsby这样的静态网站生成器会在其产品中添加增量构建。

- ### [有必要使用服务器端渲染(SSR)吗？](https://www.zhihu.com/question/308792091/answers/updated)
- 现代框架的服务端渲染和 jsp、php 这些还是有不少区别的。
  - 因为 nextjs 和 nuxtjs 这种不仅仅是服务端渲染，它们还是同构框架。
  - 什么是同构呢？就是一份代码既可以跑在浏览器端，也可以跑在服务端。这得益于 NodeJS 在服务端的流行。
- 传统jsp、php、django这些服务端渲染框架都是返回html字符串，所以就会造成切换页面的时候重新刷新了，用户体验比较差。
  - 而现在流行的前端开发模式都是SPA，这些都是无刷新切换页面带来更好的用户体验。
- 所以 nextjs 和 nuxtjs 不仅支持服务端渲染，还支持 SPA，常用的是对首页进行服务端渲染，其他页面依然保持 SPA 的无刷新访问模式。
- 服务端渲染也不应该滥用。
  - 比如我们的内部后台管理系统就上了Nuxt，现在每次本地构建要花10分钟，非常影响开发效率。
