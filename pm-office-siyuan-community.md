---
title: pm-office-siyuan-community
tags: [community, note-taking, siyuan]
created: 2022-09-15T04:42:56.961Z
modified: 2022-09-15T04:43:16.440Z
---

# pm-office-siyuan-community

# discuss
- ## 

- ## 

- ## [打通正文与文件树的壁障](https://github.com/siyuan-note/siyuan/issues/556)
- 思源笔记拥有解决这个问题的先天优势，因为在思源笔记里，无论是文件还是正文里的元素，全都拥有一个 id，
  - 如果为文件树和正文都增加转换操作，正文的标题和文件之间互相转换并且保留原来的 id，原来的链接就不会失效，整个内容库里的所有元素都可以随意重组。
  - 只有做到这种程度，基于文档的软件才能真正在内容组织灵活性上追平 roam。
- 这个转换应该是双向的：
  - 标题块及下方内容可以转为一个文档块，标题名变为文档名，同时下方内容块里最高级的 # 标题在转换进文档里的时候应该变为一级标题
  - 文档块也可以转换为一个标题块，文档名变为标题名，文档内部的正文变成标题下的内容块，同时每个 # 标题也要降级

- 类似地，可能还有其他容器块（List/Blockquote）似乎也可以考虑做和文档块的互转。标题块和文档块的互转在逻辑上是比较通顺的，因为标题正如你所说的刚好可以用作文档名（或相反），该设计非常巧妙。

- ## [1.2.5 文件 (夹) 名称 ID 化，是否与本地化的初衷渐行渐远？__202109](https://ld246.com/article/1629599006639)
- 1.2.5 最大的改动便是文件名 ID 化，这直接导致
  - 除思源外任何工具对思源文件的管理不具备可读性和可操作性性
  - 系统资源管理器几乎变为资源管理空气
  - 文件级，文件夹级拷贝分享变的异常艰难，以至不可能
  - 第三方同步盘的同步日志变得没有丝毫可读性，同样文件级的版本恢复变得异常艰难（特别是思源自身的同步仍然只能作为 plan B, 即便一直改进，应该也无法和专业软件（坚果云）比肩）
- 如果 ID 化是子文档的代价的话，那真是子文档的一个最糟糕的本地化实现，更何况子文档也丝毫不会对笔记带来本质的提升。纯在线的 ID 化无所谓，用户根本不关心这个。可用思源就是冲着本地来的
- 特性的引入伴随思源一直在收紧自由度，从资源的统一管理到文档名的 ID 化
- “思源用户不关心本地文件名，软件能打开就行”，但还是有一部分用户关心文件名的，越是深度用户越关心，随着笔记的数量提升，协作需求的提升，也许会有越来越多的用户看到这一串 ID 而苦恼
- 实现同样的功能，应该有比文件名 ID 化更高效，更平和的实现吧？

- 思源不是文本编辑器，而是知识管理系统
- 子文档形式比文件夹形式效率更高，能够充分利用文档树的空间
- 通过文件实现易变数据的互操作性是一个糟糕和错误的方向，因为多个进程各自直接读写易变文件有概率会导致数据损坏。概括一点讲就是试图通过共享文件、共享内存来实现互操作性的方案都存在一致性问题，正确的方案是通过 API 进行交互，各进程内自己保证一致性
- 使用人类可读的文本在跨系统平台时存在大小写问题，比如 Linux 上允许同时存在 SiYuan 和 siyuan 文件，但是 Windows 上则不允许，该情况一旦发生数据就可能会被损坏

- 如果确实对 id 和文件名的对应关系有需求，在 sy 文件里面有，随便找个 json 解析工具一提取就搞定了，只是稍微费一点功夫而已。
